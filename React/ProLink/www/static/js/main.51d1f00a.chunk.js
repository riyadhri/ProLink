(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{270:function(e,t,n){e.exports=n(455)},445:function(e,t){},447:function(e,t){},455:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(237),i=n.n(o),l=n(3),c=n(238),s=n(32),u=n(25),m=n(239),f=n(528),d=n(552),p=n(283),h=n(561),v=n(562),g=n(550),y=n(564),E=n(563);function x(){return r.createElement(h.a,{elevation:10,sx:{mb:1,ml:1,mr:1,mt:0,minWidth:"282px",width:{xs:"100%",sm:"45%"}}},r.createElement(v.a,{avatar:r.createElement(g.a,{sx:{bgcolor:p.a[500]},"aria-label":"recipe"},"R"),title:"Shrimp and Chorizo Paella",subheader:"Freelancer"}),r.createElement(y.a,{sx:{pt:0}},r.createElement(E.a,{variant:"subtitle2",color:"text.secondary"},"0656028272"),r.createElement(E.a,{variant:"subtitle2",color:"text.secondary"},"riyadh.derbale99@gmail.com")))}var b=n(551),w=n(116),O=n.n(w),j=n(146),k=n.n(j),L=n(33);function C(e){var t=e.user;return console.log("suggested accounts",t._id),r.createElement(L.b,{to:"/profile/".concat(t._id)},r.createElement(h.a,{elevation:10,sx:{mb:1,ml:1,mr:1,mt:0}},r.createElement(v.a,{sx:{px:1},avatar:r.createElement(g.a,{sx:{bgcolor:p.a[500]},"aria-label":"recipe"},t.firstname.charAt(0)),title:t.firstname+" "+t.lastname,subheader:t.job}),r.createElement(y.a,{sx:{pr:1,pl:1,pt:0,pb:"0px"}},r.createElement(b.a,{size:"small"},r.createElement(k.a,null),r.createElement(E.a,{variant:"subtitle2"},"Message")),r.createElement(b.a,{size:"small"},r.createElement(O.a,null),r.createElement(E.a,{variant:"subtitle2"},"Follow")))))}var S=n(88),_=n(8),I=n(511),P=n(573),G=n(574),F=n(575),W=n(571),N=n(302),D=n.n(N),M=n(303),T=n.n(M),A=n(240),z=n.n(A),R=n(241),U=n.n(R),Y=(n(43),n(549)),B=n(544),J=a.a.createContext(null),q=n(536),V="http://localhost:3000";function H(e){var t=e.comments,n=e.postId,o=Object(r.useContext)(J),i=o.user,l=(o.setUser,Object(s.useMutation)(function(e){return q.a.post(V+"/posts/addcomment",e)},{onSuccess:function(e){console.log(e)},onError:function(e){console.log(e)}})),c=Object(u.f)(),m=c.register,f=c.handleSubmit;c.formState.errors;return a.a.createElement("div",{style:{padding:0},className:"App"},a.a.createElement("h4",{style:{marginTop:0}},"Comments"),t.map(function(e,t){return a.a.createElement(Y.a,{style:{padding:"10px 10px"},key:t},a.a.createElement(d.a,{container:!0,wrap:"nowrap",spacing:2},a.a.createElement(d.a,{item:!0},a.a.createElement(g.a,{alt:"Remy Sharp",src:e.sender.photo})),a.a.createElement(d.a,{justifyContent:"left",item:!0,xs:!0,zeroMinWidth:!0},a.a.createElement("h4",{style:{margin:0,textAlign:"left"}},e.sender.firstname+" "+e.sender.lastname," "),a.a.createElement("p",{style:{textAlign:"left"}},e.value),a.a.createElement("p",{style:{textAlign:"left",color:"gray"}},e.date))))}),a.a.createElement(d.a,{container:!0,wrap:"nowrap",spacing:2,sx:{pt:3}},a.a.createElement(d.a,{item:!0},a.a.createElement(g.a,{alt:"Remy Sharp"})),a.a.createElement(d.a,{justifyContent:"left",item:!0,xs:!0,zeroMinWidth:!0},a.a.createElement("form",{onSubmit:f(function(e){l.mutate({value:e.value,postId:n,sender:i._id}),console.log({value:e.value,postId:n,user:i._id})})},a.a.createElement(B.a,Object.assign({fullWidth:!0,id:"outlined-multiline-flexible",label:"add comment ",multiline:!0,maxRows:4},m("value",{required:!0}))),a.a.createElement(b.a,{type:"submit",variant:"contained"},"Save")))))}var Q=n(457),K=n(572),X=n(526),Z=n(299),$=n.n(Z),ee=n(300),te=n.n(ee),ne=n(149),re=n.n(ne),ae=n(301),oe=n.n(ae),ie=Object(_.a)(function(e){return r.createElement(Q.a,Object.assign({elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},e))})(function(e){var t=e.theme;return{"& .MuiPaper-root":{borderRadius:6,marginTop:t.spacing(1),minWidth:180,color:"light"===t.palette.mode?"rgb(55, 65, 81)":t.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:t.palette.text.secondary,marginRight:t.spacing(1.5)},"&:active":{backgroundColor:Object(I.a)(t.palette.primary.main,t.palette.action.selectedOpacity)}}}}}),le=Object(_.a)(function(e){e.expand;var t=Object(S.a)(e,["expand"]);return r.createElement(W.a,t)})(function(e){var t=e.theme;e.expand;return{transform:"rotate(0deg)",marginLeft:"0",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})}});function ce(e){var t=e.postId,n=e.postDescription,a=e.postPhotos,o=(e.postvideos,e.postDate),i=e.postLikes,c=e.postComments,s=e.postShares,u=(e.postViews,e.postOwner),m=(e.postownername,e.postownerimage,Object(r.useContext)(J)),f=m.user,d=(m.setUser,r.useState(null)),x=Object(l.a)(d,2),b=x[0],w=x[1],O=Boolean(b),j=function(){w(null)},k=r.useState(!1),L=Object(l.a)(k,2),C=L[0],S=L[1],_=i.likeinfo.some(function(e){return Object.values(e).some(function(e){return e.includes(f._id)})});return r.createElement(r.Fragment,null,r.createElement(h.a,{elevation:10,sx:{width:"100%",mb:1}},r.createElement(ie,{id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},anchorEl:b,open:O,onClose:j},r.createElement(K.a,{onClick:j,disableRipple:!0},r.createElement($.a,null),"Edit"),r.createElement(K.a,{onClick:j,disableRipple:!0},r.createElement(te.a,null),"Delete"),r.createElement(X.a,{sx:{my:.5}}),r.createElement(K.a,{onClick:j,disableRipple:!0},r.createElement(re.a,null),"Save"),r.createElement(K.a,{onClick:j,disableRipple:!0},r.createElement(oe.a,null),"Report")),r.createElement(v.a,{avatar:r.createElement(g.a,{sx:{bgcolor:p.a[500]},"aria-label":"recipe"},u.firstname.charAt(0)),action:r.createElement(W.a,{"aria-label":"settings",onClick:function(e){w(e.currentTarget)}},r.createElement(z.a,null)),title:u.firstname+" "+u.lastname,subheader:o}),r.createElement(y.a,null,r.createElement(E.a,{variant:"body2",color:"text.secondary"},n)),r.createElement(P.a,{component:"img",image:a[0]?a[0]:"https://picsum.photos/200",alt:"Paella dish",sx:{maxHeight:"450px",maxWidth:"100%"}}),r.createElement(G.a,{disableSpacing:!0,sx:{display:"flex",justifyContent:"flex-start"}},r.createElement(W.a,{"aria-label":"add to favorites",color:_?"error":"default",onClick:function(){_?q.a.post(V+"/posts/dislike",{postId:t,sender:f._id}):q.a.post(V+"/posts/addlike",{postId:t,sender:f._id})}},r.createElement(D.a,null),i.number),r.createElement(le,{expand:C,onClick:function(){S(!C)},"aria-expanded":C,"aria-label":"show more"},r.createElement(U.a,null)),r.createElement(W.a,{"aria-label":"share"},r.createElement(T.a,null),s)),r.createElement(F.a,{in:C,timeout:"auto",unmountOnExit:!0},r.createElement(y.a,{sx:{pt:0}},r.createElement(H,{comments:c,postId:t})))))}var se=n(11),ue=n(578),me=n(579),fe=n(26),de=n(542),pe=n(576),he=n(539),ve=n(554),ge=n(181),ye=n.n(ge),Ee=n(185),xe=n(111),be=n(10),we=n(23),Oe=n(527);function je(){je=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),l=new k(a||[]);return r(i,"_invoke",{value:b(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var m={};function f(){}function d(){}function p(){}var h={};c(h,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==t&&n.call(g,o)&&(h=g);var y=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,l){var c=u(e[a],e,o);if("throw"!==c.type){var s=c.arg,m=s.value;return m&&"object"==typeof m&&n.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,i,l)},function(e){r("throw",e,i,l)}):t.resolve(m).then(function(e){s.value=e,i(s)},function(e){return r("throw",e,i,l)})}l(c.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function b(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return C()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},E(x.prototype),c(x.prototype,i,function(){return this}),e.AsyncIterator=x,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new x(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},E(y),c(y,l,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function ke(e){return r.createElement(E.a,Object.assign({variant:"body2",color:"text.secondary",align:"center"},e),"Copyright \xa9 ",r.createElement(ve.a,{component:L.b,to:"/",color:"inherit"},"Your Website")," ",(new Date).getFullYear(),".")}var Le=xe.a({}).required();function Ce(){var e=Object(we.a)(),t=Object(Oe.a)(e.breakpoints.down("md")),n=Object(u.f)({mode:"onChange",resolver:Object(Ee.a)(Le)}),a=n.register,o=n.formState.errors,i=n.handleSubmit,c=n.control,m=(Object(be.n)(),Object(s.useMutation)(function(e){return q.a.post("http://localhost:3000/auth/login",e,{headers:{"Content-Type":"application/json",Accept:""},withCredentials:!0})},{onSuccess:function(e){console.log("mutation succesed"),console.log(e.data),O(e.data),localStorage.setItem("user",JSON.stringify(e.data))},onError:function(e){console.log("mutation failed"),console.log(e.data)}})),p=function(){var e=Object(fe.a)(je().mark(function e(t){return je().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{m.mutate({email:t.email,password:t.password})}catch(n){console.log(n)}case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),h=r.useState(!1),v=Object(l.a)(h,2),y=v[0],x=v[1],w=Object(r.useContext)(J),O=(w.user,w.setUser);return r.createElement("div",null,r.createElement(b.a,{onClick:function(){return x(!0)},color:"error",variant:"contained"},"login"),r.createElement(de.a,{open:y,onClose:function(){return x(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",sx:{display:"flex",justifyContent:"center"}},r.createElement(f.a,{sx:{p:4,my:2,display:"flex",flexDirection:"column",alignItems:"center",background:"#fff",width:t?"100%":"40%",borderRadius:"10px"}},r.createElement(g.a,{sx:{m:1,bgcolor:"secondary.main"}},r.createElement(ye.a,null)),r.createElement(E.a,{component:"h1",variant:"h5"},"Sign in"),r.createElement(f.a,{component:"form",noValidate:!0,onSubmit:i(p),sx:{mt:1}},r.createElement(B.a,Object.assign({margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0},a("email"),{error:o.email,helperText:o.email})),r.createElement(u.a,{control:c,rules:{maxLength:100},render:function(e){var t=e.field;return r.createElement(B.a,Object.assign({margin:"normal",required:!0,fullWidth:!0,label:"Password",type:"password",id:"password",autoComplete:"current-password"},t,{error:o.password,helperText:o.password}))},name:"password"}),r.createElement(pe.a,{control:r.createElement(he.a,Object.assign({value:"remember",color:"primary",name:"check"},a("check"))),label:"Remember me"}),r.createElement(b.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Sign In"),r.createElement(d.a,{container:!0},r.createElement(d.a,{item:!0,xs:!0},r.createElement(ve.a,{component:L.b,to:"/",variant:"body2"},"Forgot password?")),r.createElement(d.a,{item:!0},r.createElement(ve.a,{component:L.b,to:"/",variant:"body2"},"Don't have an account? Sign Up"))),r.createElement(ke,{sx:{mt:5}})))))}var Se=n(529),_e=n(555);function Ie(){Ie=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),l=new k(a||[]);return r(i,"_invoke",{value:b(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var m={};function f(){}function d(){}function p(){}var h={};c(h,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==t&&n.call(g,o)&&(h=g);var y=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,l){var c=u(e[a],e,o);if("throw"!==c.type){var s=c.arg,m=s.value;return m&&"object"==typeof m&&n.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,i,l)},function(e){r("throw",e,i,l)}):t.resolve(m).then(function(e){s.value=e,i(s)},function(e){return r("throw",e,i,l)})}l(c.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function b(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return C()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},E(x.prototype),c(x.prototype,i,function(){return this}),e.AsyncIterator=x,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new x(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},E(y),c(y,l,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}var Pe=xe.a({email:xe.b().email().required(),firstName:xe.b().min(5).required(),lastName:xe.b().min(5).required(),password:xe.b().min(7).required()}).required();function Ge(e){return r.createElement(E.a,Object.assign({variant:"body2",color:"text.secondary",align:"center"},e),"Copyright \xa9 ",r.createElement(ve.a,{color:"inherit",href:"https://mui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}function Fe(){var e=Object(we.a)(),t=Object(Oe.a)(e.breakpoints.down("md")),n=Object(u.f)({mode:"onChange",resolver:Object(Ee.a)(Pe)}),a=n.register,o=(n.formState.errors,n.handleSubmit),i=(n.control,Object(be.n)(),Object(r.useContext)(J)),c=(i.user,i.setUser),m=Object(s.useMutation)(function(e){return q.a.post("http://localhost:3000/auth/signup",e,{headers:{"Content-Type":"application/json",Accept:"*/*"},withCredentials:!0})},{onSuccess:function(e){console.log("mutation succesed"),console.log(e.data),console.log(e),c(e.data),localStorage.setItem("user",JSON.stringify(e.data))},onError:function(e){console.log("mutation failed"),console.log(e)}}),p=function(){var e=Object(fe.a)(Ie().mark(function e(t){return Ie().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);try{m.mutate({firstname:t.firstName,lastname:t.lastName,email:t.email,password:t.password,useemail:t.useemail})}catch(n){console.log(n)}case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),h=r.useState(!1),v=Object(l.a)(h,2),y=v[0],x=v[1];return r.createElement("div",null,r.createElement(b.a,{onClick:function(){return x(!0)},color:"success",variant:"contained"},"register"),r.createElement(de.a,{open:y,onClose:function(){return x(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},r.createElement(_e.a,{sx:{background:"#fff",width:t?"100%":"40%",borderRadius:"10px"}},r.createElement(Se.a,null),r.createElement(f.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"}},r.createElement(g.a,{sx:{m:1,bgcolor:"secondary.main"}},r.createElement(ye.a,null)),r.createElement(E.a,{component:"h1",variant:"h5"},"Sign up"),r.createElement(f.a,{component:"form",noValidate:!0,onSubmit:o(p),sx:{mt:3}},r.createElement(d.a,{container:!0,spacing:2},r.createElement(d.a,{item:!0,xs:12,sm:6},r.createElement(B.a,Object.assign({autoComplete:"given-name",name:"firstName",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0},a("firstName")))),r.createElement(d.a,{item:!0,xs:12,sm:6},r.createElement(B.a,Object.assign({required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"family-name"},a("lastName")))),r.createElement(d.a,{item:!0,xs:12},r.createElement(B.a,Object.assign({required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"},a("email")))),r.createElement(d.a,{item:!0,xs:12},r.createElement(B.a,Object.assign({required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password"},a("password")))),r.createElement(d.a,{item:!0,xs:12},r.createElement(pe.a,{control:r.createElement(he.a,Object.assign({value:!0,color:"primary",name:"useemail"},a("useemail"))),label:"I want to receive inspiration, marketing promotions and updates via email."}))),r.createElement(b.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Sign Up"),r.createElement(d.a,{container:!0,justifyContent:"flex-end"},r.createElement(d.a,{item:!0},r.createElement(ve.a,{href:"#",variant:"body2"},"Already have an account? Sign in"))))),r.createElement(Ge,{sx:{mt:5}}))))}var We=n(530),Ne=n(535),De=n(307),Me=n.n(De),Te=n(308),Ae=n.n(Te);function ze(){var e=Object(we.a)(),t=Object(r.useContext)(J),n=t.user,a=(t.setUser,Object(Oe.a)(e.breakpoints.up("sm"))),o=Object(be.n)(),i=r.useState(null),c=Object(l.a)(i,2),s=c[0],u=c[1],m=Boolean(s),d=function(){u(null)};return r.createElement(r.Fragment,null,r.createElement(f.a,{sx:{display:"flex",alignItems:"center",textAlign:"center"}},r.createElement(Ne.a,{title:"Account settings"},r.createElement(W.a,{onClick:function(e){u(e.currentTarget)},size:"small",sx:{ml:2},"aria-controls":m?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":m?"true":void 0},r.createElement(g.a,{sx:{width:32,height:32}},"M")))),r.createElement(Q.a,{anchorEl:s,id:"account-menu",open:m,onClose:d,onClick:d,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"}},r.createElement(K.a,{onClick:function(){return o("/profile/"+n._id)}},r.createElement(g.a,null)," Profile"),r.createElement(K.a,{onClick:d},r.createElement(g.a,null)," My account"),r.createElement(X.a,null),r.createElement(K.a,{onClick:d},r.createElement(We.a,null,r.createElement(O.a,{fontSize:"small"})),"Add another account"),r.createElement(K.a,{onClick:function(){o(a?"/EditProfile/"+n._id:"/EditProfileMobile/"+n._id)}},r.createElement(We.a,null,r.createElement(Me.a,{fontSize:"small"})),"Settings"),r.createElement(K.a,{onClick:d},r.createElement(We.a,null,r.createElement(Ae.a,{fontSize:"small"})),"Logout")))}var Re=n(540),Ue=n(193),Ye=n.n(Ue),Be=48;function Je(){var e=Object(be.n)(),t=Object(we.a)(),n=Object(Oe.a)(t.breakpoints.down("md")),a=r.useState(null),o=Object(l.a)(a,2),i=o[0],c=o[1],s=Boolean(i),u=function(){c(null)};return r.createElement("div",null,r.createElement(W.a,{"aria-label":"more",id:"long-button","aria-controls":s?"long-menu":void 0,"aria-expanded":s?"true":void 0,"aria-haspopup":"true",onClick:function(t){return n?e("/ChatMobile"):void c(t.currentTarget)},color:"inherit"},r.createElement(Re.a,{badgeContent:4,color:"error"},r.createElement(Ye.a,null))),r.createElement(Q.a,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:i,open:s,onClose:u,PaperProps:{style:{maxHeight:4.5*Be,width:"50ch"}}},r.createElement(K.a,{key:1,onClick:u,sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"}},r.createElement(f.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center"}},r.createElement(W.a,{size:"small",sx:{ml:0},"aria-controls":s?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":s?"true":void 0},r.createElement(g.a,{sx:{width:32,height:32}},"M")),r.createElement(E.a,null,"Jalile der")),r.createElement(E.a,null," Message 1 "),r.createElement(E.a,null," 1 min ")),r.createElement(K.a,{key:1,onClick:u,sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"}},r.createElement(f.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center"}},r.createElement(W.a,{size:"small",sx:{ml:0},"aria-controls":s?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":s?"true":void 0},r.createElement(g.a,{sx:{width:32,height:32}},"M")),r.createElement(E.a,null,"Jalile der")),r.createElement(E.a,null," Message 1 "),r.createElement(E.a,null," 1 min ")),r.createElement(K.a,{key:1,onClick:u,sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"}},r.createElement(f.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center"}},r.createElement(W.a,{size:"small",sx:{ml:0},"aria-controls":s?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":s?"true":void 0},r.createElement(g.a,{sx:{width:32,height:32}},"M")),r.createElement(E.a,null,"Jalile der")),r.createElement(E.a,null," Message 1 "),r.createElement(E.a,null," 1 min "))))}var qe=n(309),Ve=n.n(qe),He=n(531),Qe=48;function Ke(){var e=r.useState(null),t=Object(l.a)(e,2),n=t[0],a=t[1],o=Boolean(n),i=function(){a(null)};return r.createElement("div",null,r.createElement(W.a,{"aria-label":"more",id:"long-button","aria-controls":o?"long-menu":void 0,"aria-expanded":o?"true":void 0,"aria-haspopup":"true",onClick:function(e){a(e.currentTarget)},color:"inherit"},r.createElement(Re.a,{badgeContent:17,color:"error"},r.createElement(Ve.a,null))),r.createElement(Q.a,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:n,open:o,onClose:i,PaperProps:{style:{maxHeight:4.5*Qe,width:"50ch"}},sx:{display:"flex"}},r.createElement(K.a,{key:1,onClick:i,sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"}},r.createElement(He.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center"}},r.createElement(W.a,{size:"small",sx:{ml:0},"aria-controls":o?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":o?"true":void 0},r.createElement(g.a,{sx:{width:32,height:32}},"M")),r.createElement(E.a,null,"Jalile der")),r.createElement(E.a,null," Message 1 "),r.createElement(E.a,null," 1 min ")),r.createElement(K.a,{key:1,onClick:i,sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"}},r.createElement(He.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center"}},r.createElement(W.a,{size:"small",sx:{ml:0},"aria-controls":o?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":o?"true":void 0},r.createElement(g.a,{sx:{width:32,height:32}},"M")),r.createElement(E.a,null,"Jalile der")),r.createElement(E.a,null," Message 1 "),r.createElement(E.a,null," 1 min ")),r.createElement(K.a,{key:1,onClick:i,sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"}},r.createElement(He.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center"}},r.createElement(W.a,{size:"small",sx:{ml:0},"aria-controls":o?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":o?"true":void 0},r.createElement(g.a,{sx:{width:32,height:32}},"M")),r.createElement(E.a,null,"Jalile der")),r.createElement(E.a,null," Message 1 "),r.createElement(E.a,null," 1 min ")),r.createElement(K.a,{key:1,onClick:i,sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"}},r.createElement(He.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center"}},r.createElement(W.a,{size:"small",sx:{ml:0},"aria-controls":o?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":o?"true":void 0},r.createElement(g.a,{sx:{width:32,height:32}},"M")),r.createElement(E.a,null,"Jalile der")),r.createElement(E.a,null," Message 1 "),r.createElement(E.a,null," 1 min "))))}var Xe=n(71),Ze=n(556),$e=n(570),et=n(546),tt=n(532),nt=n(533),rt=n(310),at=n.n(rt),ot=n(311),it=n.n(ot),lt=n(364),ct=n.n(lt);function st(){return r.createElement(f.a,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"}},r.createElement("nav",{"aria-label":"main mailbox folders"},r.createElement($e.a,null,r.createElement(et.a,{disablePadding:!0},r.createElement(tt.a,null,r.createElement(We.a,null,r.createElement(at.a,null)),r.createElement(nt.a,{primary:"About"}))),r.createElement(et.a,{disablePadding:!0},r.createElement(tt.a,null,r.createElement(We.a,null,r.createElement(it.a,null)),r.createElement(nt.a,{primary:"Privacy & Terms"}))),r.createElement(et.a,{disablePadding:!0},r.createElement(tt.a,null,r.createElement(We.a,null,r.createElement(ct.a,null)),r.createElement(nt.a,{primary:"Ad Center"}))),r.createElement(et.a,{disablePadding:!0},r.createElement(tt.a,null,r.createElement(We.a,null,r.createElement(re.a,null)),r.createElement(nt.a,{primary:"Saved & Favorites"}))))),r.createElement(X.a,null))}var ut=n(312),mt=n.n(ut);function ft(){var e,t=r.useState({left:!1}),n=Object(l.a)(t,2),a=n[0],o=n[1],i=function(e,t){return function(n){("keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&o(Object(Xe.a)({},a,Object(se.a)({},e,t)))}};return r.createElement(f.a,{sx:{display:{xs:"block ",md:"none"}}},r.createElement(b.a,{color:"inherit",onClick:i("left",!0)},r.createElement(mt.a,null)),r.createElement(Ze.a,{anchor:"left",open:a.left,onClose:i("left",!1)},(e="left",r.createElement(f.a,{sx:{width:"top"===e||"bottom"===e?"auto":250},role:"presentation",onClick:i(e,!1),onKeyDown:i(e,!1)},r.createElement(st,null)))))}var dt=n(568),pt=n(553),ht=n(577),vt=n(545),gt=n(541),yt=n(365),Et=n.n(yt),xt=function(){Object(be.n)();var e={searchtext:"",job:"",wilaya:""},t=Object(u.f)({mode:"onChange",defaultValues:e});a.a.useEffect(function(){t.reset(e)},[]);Object(s.useMutation)(function(){return q.a.patch("http://localhost:3000/users/",{headers:{"Content-Type":"application/json",Accept:"*/*"},withCredentials:!0})},{onSuccess:function(e){console.log("mutation succesed"),console.log(e)},onError:function(e){console.log("mutation failed"),console.log(e)}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(f.a,{key:0,component:"form",noValidate:!0,onSubmit:t.handleSubmit(function(e){console.log(e)}),sx:{width:"100%",display:"flex",flexWrap:"wrap"}},a.a.createElement(u.a,{name:"searchtext",control:t.control,render:function(e){var t=e.field,n=t.onChange,r=t.value;return a.a.createElement(dt.a,{sx:{m:1,flexGrow:2}},a.a.createElement(pt.a,{value:r,onChange:n,startAdornment:a.a.createElement(ht.a,{position:"start"},a.a.createElement(W.a,{"aria-label":"toggle password visibility",edge:"start",type:"submit"},a.a.createElement(Et.a,null))),sx:{background:"#fff","& .MuiOutlinedInput-input":{pt:1.7,pb:1.7}},placeholder:"Please enter text"}))}}),a.a.createElement(u.a,{name:"job",control:t.control,render:function(e){var t=e.field,n=t.onChange,r=t.value;return a.a.createElement(dt.a,{sx:{m:1,flexGrow:1,minWidth:"150px"}},a.a.createElement(vt.a,{id:"demo-simple-select-helper-label"},"job"),a.a.createElement(gt.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:r||"",label:"job",onChange:n,sx:{background:"#fff","& .MuiSelect-select":{pt:1.7,pb:1.7}}},a.a.createElement(K.a,{value:"freelancer"},"freelancer"),a.a.createElement(K.a,{value:"designer"},"designer"),a.a.createElement(K.a,{value:"programmer"},"programmer")))}}),a.a.createElement(u.a,{name:"wilaya",control:t.control,render:function(e){var t=e.field,n=t.onChange,r=t.value;return a.a.createElement(dt.a,{sx:{m:1,flexGrow:1,minWidth:"150px"}},a.a.createElement(vt.a,{id:"demo-simple-select-helper-label"},"wilaya"),a.a.createElement(gt.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:r||"",label:"wilaya",onChange:n,sx:{background:"#fff","& .MuiSelect-select":{pt:1.7,pb:1.7}}},a.a.createElement(K.a,{value:"freelancer"},"freelancer"),a.a.createElement(K.a,{value:"designer"},"designer"),a.a.createElement(K.a,{value:"programmer"},"programmer")))}})))};var bt=function(){var e=Object(r.useContext)(J),t=e.user,n=(e.setUser,a.a.useState(!0)),o=Object(l.a)(n,2);return o[0],o[1],a.a.createElement(ue.a,{position:"static",sx:{mb:2}},a.a.createElement(me.a,null,a.a.createElement(d.a,{container:!0},a.a.createElement(d.a,{item:!0,xs:1,sx:{display:{md:"none"}}},a.a.createElement(ft,null)),a.a.createElement(d.a,{item:!0,xs:1}),a.a.createElement(d.a,{item:!0,md:9,sx:function(e){return Object(se.a)({display:"flex",justifyContent:"flex-end"},e.breakpoints.down("md"),{display:"none"})}},a.a.createElement(xt,null)),a.a.createElement(d.a,{item:!0,xs:10,md:2,sx:{display:"flex",justifyContent:"flex-end",alignItems:"center"}},t._id?a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,null),a.a.createElement(Ke,null),a.a.createElement(ze,null)):a.a.createElement(a.a.Fragment,null,a.a.createElement(Ce,null),a.a.createElement(Fe,null))))))},wt=n(313),Ot=n.n(wt);function jt(){jt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),l=new k(a||[]);return r(i,"_invoke",{value:b(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var m={};function f(){}function d(){}function p(){}var h={};c(h,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==t&&n.call(g,o)&&(h=g);var y=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,l){var c=u(e[a],e,o);if("throw"!==c.type){var s=c.arg,m=s.value;return m&&"object"==typeof m&&n.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,i,l)},function(e){r("throw",e,i,l)}):t.resolve(m).then(function(e){s.value=e,i(s)},function(e){return r("throw",e,i,l)})}l(c.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function b(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return C()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},E(x.prototype),c(x.prototype,i,function(){return this}),e.AsyncIterator=x,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new x(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},E(y),c(y,l,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}var kt=function(){var e=Object(r.useContext)(J),t=e.user,n=(e.setUser,a.a.useState(null)),o=Object(l.a)(n,2),i=o[0],c=o[1];var m=Object(s.useMutation)(function(e){return q.a.post(V+"/posts",e)},{onSuccess:function(e){console.log(e)},onError:function(e){console.log(e)}}),d=Object(u.f)({mode:"onChange"}),p=d.register,h=(d.formState.errors,d.handleSubmit),v=(d.control,function(e){return new Promise(function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){t(r.result)},r.onerror=function(e){n(e)}})}),g=function(){var e=Object(fe.a)(jt().mark(function e(n){var r,a;return jt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n.Photo[0]);case 2:r=e.sent,a={Desc:n.Desc,Photo:r,owner:t._id},m.mutate(a),console.log(a);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(f.a,{sx:{width:"100%"},component:"form",noValidate:!0,onSubmit:h(g)},a.a.createElement(B.a,Object.assign({id:"outlined-multiline-flexible",label:"Multiline",multiline:!0,maxRows:4,fullWidth:!0},p("Desc"))),a.a.createElement(f.a,{sx:{display:"flex",alignItems:"flex-end"}},a.a.createElement(f.a,{component:"img",sx:{width:"90px"},alt:i?"xxx":"",src:i}),a.a.createElement(b.a,{type:"submit",variant:"contained"},"Save"),a.a.createElement(b.a,{component:"label"},a.a.createElement(Ot.a,null),a.a.createElement("input",Object.assign({type:"file"},p("Photo",{onChange:function(e){c(URL.createObjectURL(e.target.files[0]))}}),{hidden:!0}))))))};var Lt=function(e){var t=a.a.useState([]),n=Object(l.a)(t,2),r=n[0],o=n[1],i=Object(s.useQuery)("Myprofile",function(){return q.a.get(V+"/posts",{withCredentials:!0})},{refetchOnWindowFocus:!1,onSuccess:function(e){o(e.data)},onError:function(e){console.log(e)}}),c=(i.isLoading,i.data,i.isError,i.error,i.refetch,a.a.useState([])),u=Object(l.a)(c,2),p=u[0],h=u[1],v=Object(s.useQuery)("Users",function(){return q.a.get(V+"/users/suggested",{withCredentials:!0})},{refetchOnWindowFocus:!1,onSuccess:function(e){h(e.data)},onError:function(e){console.log(e)}});return Object(m.a)(v),a.a.createElement(f.a,{sx:{flexGrow:1}},a.a.createElement(bt,null),a.a.createElement(d.a,{container:!0},a.a.createElement(d.a,{container:!0,item:!0,xs:12,sx:{display:{md:"none"}}},a.a.createElement(xt,null)),a.a.createElement(d.a,{item:!0,sx:{display:{xs:"none",md:"block"}},md:3},a.a.createElement(st,null)),a.a.createElement(d.a,{item:!0,xs:12,md:6},a.a.createElement(kt,null),r.map(function(e,t){return a.a.createElement(ce,{key:t,postId:e._id,postPhotos:e.photos,postDescription:e.description,postComments:e.comments,postOwner:e.owner,postLikes:e.likes,postShares:e.shares,postDate:e.date})})),a.a.createElement(d.a,{item:!0,xs:12,md:3},p.map(function(e,t){return a.a.createElement(C,{key:t,user:e})}))))},Ct=n(558),St=n(316),_t=n.n(St),It=n(315),Pt=n.n(It),Gt=n(367),Ft=n.n(Gt),Wt=n(314),Nt=n.n(Wt),Dt=n(369),Mt=n.n(Dt),Tt=n(368),At=n.n(Tt),zt=n(366),Rt=n.n(zt),Ut=n(580),Yt=n(534),Bt=n(581),Jt=n(582),qt=n(583),Vt=n(543),Ht=n(557),Qt=n(538),Kt=n(584),Xt=n(201),Zt=n.n(Xt);function $t(e){var t=e.children,n=e.value,a=e.index,o=Object(S.a)(e,["children","value","index"]);return r.createElement("div",Object.assign({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},o),n===a&&r.createElement(f.a,{sx:{p:{xs:0,md:3}}},r.createElement(f.a,null,t)))}function en(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var tn=function(e){var t=r.useState({}),n=Object(l.a)(t,2),a=n[0],o=n[1],i=Object(be.p)().profileId,c=Object(r.useContext)(J),u=c.user,m=(c.setUser,!1);u._id==i&&(m=!0),r.useEffect(function(){i!=a._id&&q.a.get("http://localhost:3000/users/profile",{params:{isMyprofile:m,profileId:i},withCredentials:!0}).then(function(e){console.log(e),o(e.data[0])}),console.log("ID parameter changed to ".concat(i))},[i]);var p=Object(s.useQuery)("Myprofile",function(){return q.a.get("http://localhost:3000/users/profile",{params:{isMyprofile:m,profileId:i},withCredentials:!0})},{refetchOnWindowFocus:!1,onSuccess:function(e){o(e.data[0]),console.log(e)},onError:function(e){console.log(e)}}),v=(p.isLoading,p.data,p.isError,p.error,p.refetch,r.useState(!1)),x=Object(l.a)(v,2),w=x[0],j=x[1],L=function(){j(!1)},C=r.useState(0),S=Object(l.a)(C,2),_=S[0],I=S[1];return Object(we.a)(),r.createElement(r.Fragment,null,r.createElement("div",null,r.createElement(Ut.a,{open:w,onClose:L},r.createElement(Yt.a,null," Report User"),r.createElement(Bt.a,null,r.createElement(Jt.a,null,"To subscribe to this website, please enter your email address here. We will send updates occasionally."),r.createElement(B.a,{multiline:!0,maxRows:4,rows:4,autoFocus:!0,margin:"dense",id:"name",label:"report",type:"text",fullWidth:!0,variant:"standard"})),r.createElement(qt.a,null,r.createElement(b.a,{onClick:L},"Cancel"),r.createElement(b.a,{onClick:L},"Report")))),r.createElement(bt,null),r.createElement(f.a,{sx:{p:{xs:1,sm:4}}},r.createElement(d.a,{container:!0,spacing:2},r.createElement(d.a,{item:!0,xs:12,md:4},r.createElement(Y.a,{elevation:10,sx:{height:"100%",alignItems:"center",justifyContent:"center",display:"flex",px:1}},r.createElement(f.a,{sx:{display:"flex",flexDirection:"column"}},r.createElement(f.a,{sx:{display:"flex",flexDirection:"row",alignItems:"flex-start",flexGrow:2,pl:1}},r.createElement(f.a,{component:"img",sx:{borderRadius:"50%",maxHeight:90,maxWidth:90,"&:hover, &.Mui-focusVisible":{opacity:.4}},alt:"The house from the offer.",src:"none"!=a.photo?a.photo:"https://th.bing.com/th/id/OIP.OesLvyzDO6AvU_hYUAT4IAHaHa?pid=ImgDet&dpr=2"}),r.createElement(f.a,{sx:{display:"flex",flexDirection:"column",pb:1,px:1}},r.createElement(E.a,{variant:"subtitle1"}," ",a.firstname+"  "+a.lastname),r.createElement(E.a,{variant:"subtitle2"},a.job),r.createElement(f.a,{sx:{display:"flex",alignItems:"center",direction:"row"}},r.createElement(E.a,{variant:"subtitle1"},a.rating),r.createElement(Vt.a,{size:"small",name:"size-large",value:a.rating?a.rating:0,readOnly:!0})))),r.createElement(f.a,{sx:{display:"flex",flexDirection:"row",flexWrap:"nowrap",p:2}},r.createElement(b.a,{variant:"contained",size:"small"},r.createElement(k.a,null),r.createElement(E.a,{variant:"subtitle2"}," Message")),r.createElement(b.a,{variant:"contained",size:"small",onClick:function(){j(!0)}},r.createElement(O.a,null),r.createElement(E.a,{variant:"subtitle2"}," Follow")))))),r.createElement(d.a,{item:!0,xs:12,md:8},r.createElement(Y.a,{elevation:10,sx:{display:"flex",p:{xs:1,md:2},flexDirection:"column"}},r.createElement(f.a,{sx:{display:"flex",width:"100%",flexWrap:"wrap"}},r.createElement(E.a,{noWrap:!0,variant:"subtitle1",component:"div",sx:{width:"30%",minWidth:"60px"}},"Phone :"),r.createElement(E.a,{noWrap:!0,sx:{width:"70%"},color:"primary",variant:"subtitle1",component:"div"},a.phone)),r.createElement(f.a,{sx:{display:"flex",width:"100%",flexWrap:"wrap"}},r.createElement(E.a,{noWrap:!0,variant:"subtitle1",component:"div",sx:{width:"30%",minWidth:"70px"}},"Address :"),r.createElement(E.a,{noWrap:!0,variant:"subtitle1",component:"div",sx:{width:"70%",fontWeight:"regular"}},a.location&&a.location.wilaya+" "+a.location.daira+" "+a.location.commune),r.createElement(W.a,{onClick:function(){window.open("https://maps.google.com?q="+a.locationMap.longitude+","+a.locationMap.latitude)},color:"primary","aria-label":"add to shopping cart"},r.createElement(Rt.a,null))),r.createElement(f.a,{sx:{display:"flex",width:"100%",flexWrap:"wrap"}},r.createElement(E.a,{noWrap:!0,variant:"subtitle1",component:"div",sx:{width:{xs:"100%",sm:"30%"},minWidth:"55px"}},"Email :"),r.createElement(E.a,{noWrap:!0,color:"primary",variant:"subtitle1",component:"div",sx:{width:{xs:"100%",sm:"70%"},fontWeight:"regular"}},a.email)),r.createElement(f.a,{sx:{display:"flex",width:"100%",flexWrap:"wrap"}},r.createElement(E.a,{noWrap:!0,variant:"subtitle1",component:"div",sx:{width:"30%",fontWeight:"regular"}},"Followers :"),r.createElement(E.a,{noWrap:!0,variant:"subtitle1",component:"div",sx:{width:"70%",fontWeight:"regular"}},a.followers),r.createElement(E.a,{noWrap:!0,variant:"subtitle1",component:"div",sx:{width:"30%",fontWeight:"regular"}},"Following :"),r.createElement(E.a,{noWrap:!0,variant:"subtitle1",component:"div",sx:{width:"70%",fontWeight:"regular"}},a.following)),r.createElement(f.a,null,r.createElement(W.a,{color:"primary","aria-label":"add to shopping cart"},r.createElement(Ft.a,null)),r.createElement(W.a,{color:"primary","aria-label":"add to shopping cart"},r.createElement(Nt.a,null)),r.createElement(W.a,{color:"primary","aria-label":"add to shopping cart"},r.createElement(At.a,null)),r.createElement(W.a,{color:"primary","aria-label":"add to shopping cart"},r.createElement(Pt.a,null)),r.createElement(W.a,{color:"primary","aria-label":"add to shopping cart"},r.createElement(Mt.a,null)))))),r.createElement(d.a,{container:!0,sx:{pt:2},spacing:2},r.createElement(d.a,{item:!0,xs:12,md:4},r.createElement(Y.a,{elevation:10},r.createElement(f.a,{sx:{position:"sticky",top:0}},r.createElement(X.a,{textAlign:"left"},r.createElement(Ht.a,{label:"Work"})),a.projects&&a.projects.map(function(e,t){return r.createElement(h.a,{sx:{m:1},key:t},r.createElement(y.a,null,r.createElement(E.a,{variant:"h5",component:"div"},e.name),r.createElement(E.a,{sx:{fontSize:14,position:"sticky"},color:"text.secondary",gutterBottom:!0},e.date),r.createElement(E.a,{variant:"body2"},e.description,r.createElement("br",null),e.description)),r.createElement(G.a,null,r.createElement(b.a,{size:"small"}," ",r.createElement(ve.a,{href:e.link}," Learn More"))))}),r.createElement(X.a,{textAlign:"left"},r.createElement(Ht.a,{label:"Skils"})),r.createElement(f.a,{sx:{p:1.5}},a.skills&&a.skills.map(function(e,t){return r.createElement(Ht.a,{color:"primary",label:e,key:t})}))))),r.createElement(d.a,{item:!0,xs:12,md:8},r.createElement(Y.a,{elevation:10},r.createElement(f.a,{sx:{borderBottom:1,borderColor:"divider",position:"sticky",top:0,bgcolor:"#FFFFFF",zIndex:1}},r.createElement(Qt.a,{variant:"scrollable",scrollButtons:!0,allowScrollButtonsMobile:!0,value:_,onChange:function(e,t){I(t)},"aria-label":"basic tabs example"},r.createElement(Kt.a,Object.assign({label:"Time Line",iconPosition:"start",icon:r.createElement(_t.a,{fontSize:"small"})},en(0))),r.createElement(Kt.a,Object.assign({icon:r.createElement(Zt.a,{fontSize:"small"}),iconPosition:"start",label:"Appointments"},en(1))),r.createElement(Kt.a,Object.assign({icon:r.createElement(Zt.a,{fontSize:"small"}),iconPosition:"start",label:"Reviews"},en(2))))),r.createElement($t,{value:_,index:0},a.posts&&a.posts.map(function(e,t){return r.createElement(ce,{key:t,postId:e._id,postPhotos:e.photos,postDescription:e.description,postComments:e.comments,postOwner:e.owner,postLikes:e.likes,postShares:e.shares,postDate:e.date})})),r.createElement($t,{value:_,index:1},a.appointments&&a.appointments.map(function(e,t){return r.createElement(Y.a,{key:t,sx:{p:2,mb:1},elevation:10},r.createElement(f.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center"}},r.createElement(g.a,{alt:"Cindy Baker",src:""}),r.createElement(E.a,null," ",e.user1," ")," ",r.createElement(E.a,null," ",e.user2," ")),r.createElement(E.a,null,e.date," ","  ",e.time),r.createElement(E.a,null," ",e.location))}),r.createElement(Y.a,{key:555,sx:{p:2,mb:1},elevation:10},r.createElement(f.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center"}},r.createElement(g.a,{alt:"Cindy Baker",src:""}),r.createElement(E.a,null," user 01 "),r.createElement(E.a,null," user 02 ")),r.createElement(E.a,null,"2013/02/28 10:00"),r.createElement(E.a,null," university "))),r.createElement($t,{classes:{"& .css-19kzrtu":{p:0}},sx:{m:5},value:_,index:2},r.createElement(f.a,{sx:{display:"flex",flexDirection:"column",width:"100%",mb:1.5}},a.reviews&&a.reviews.map(function(e,t){return r.createElement(Y.a,{key:t,sx:{p:1,m:1},elevation:10},r.createElement(f.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center"}},r.createElement(g.a,{alt:"Cindy Baker",src:""}),r.createElement(E.a,null," ",e.sender," ")),r.createElement(Vt.a,{name:"size-large",value:e.rating?e.rating:0}),r.createElement(E.a,null," ",e.message," "))}))))))))};function nn(e){var t=e.profileId,n=r.useState(!1),a=Object(l.a)(n,2),o=a[0],i=a[1],c=function(){i(!1)},m=Object(s.useMutation)(function(e){return q.a.patch("http://localhost:3000/users/addproject/"+t,e,{headers:{"Content-Type":"application/json",Accept:"*/*"},withCredentials:!0})},{onSuccess:function(e){console.log("mutation succesed"),console.log(e.data),console.log(e)},onError:function(e){console.log("mutation failed"),console.log(e)}}),d=Object(u.f)({mode:"onChange"});return r.createElement("div",null,r.createElement(f.a,null,r.createElement(b.a,{variant:"outlined",onClick:function(){i(!0)}},"Add Project"," "),r.createElement(Ut.a,{open:o,onClose:c},r.createElement(Yt.a,null,"Subscribe"),r.createElement(Bt.a,null,r.createElement(Jt.a,null,"To subscribe to this website, please enter your email address here. We will send updates occasionally."),r.createElement(u.a,{name:"name",control:d.control,render:function(e){var t=e.field,n=t.onChange,a=t.value;return r.createElement(B.a,{autoFocus:!0,margin:"dense",id:"name",label:"name",type:"text",fullWidth:!0,variant:"standard",onChange:n,value:a||""})}}),r.createElement(u.a,{name:"date",control:d.control,render:function(e){var t=e.field,n=t.onChange,a=t.value;return r.createElement(B.a,{autoFocus:!0,margin:"dense",id:"date",label:"name",type:"date",fullWidth:!0,variant:"standard",onChange:n,value:a||""})}}),r.createElement(u.a,{name:"description",control:d.control,render:function(e){var t=e.field,n=t.onChange,a=t.value;return r.createElement(B.a,{autoFocus:!0,margin:"dense",id:"description",label:"description",type:"text",fullWidth:!0,variant:"standard",onChange:n,value:a||""})}}),r.createElement(u.a,{name:"link",control:d.control,render:function(e){var t=e.field,n=t.onChange,a=t.value;return r.createElement(B.a,{autoFocus:!0,margin:"dense",id:"link",label:"link",type:"text",fullWidth:!0,variant:"standard",onChange:n,value:a||""})}})),r.createElement(qt.a,null,r.createElement(b.a,{onClick:c},"Cancel"),r.createElement(b.a,{type:"submit",onClick:d.handleSubmit(function(e){console.log(e);try{m.mutate(e)}catch(t){console.log(t)}})},"Add Project")))))}var rn={PaperProps:{style:{maxHeight:224,width:250}}};function an(e,t,n){return{fontWeight:-1===t.indexOf(e)?n.typography.fontWeightRegular:n.typography.fontWeightMedium}}function on(e){var t=e.skills,n=Object(u.g)(),a=(n.register,n.control),o=Object(we.a)(),i=r.useState([]),c=Object(l.a)(i,2),s=c[0];c[1];return r.createElement(f.a,{sx:{width:"100%"}},r.createElement(u.a,{name:"skills",control:a,render:function(e){var n=e.field,a=n.onChange,i=n.value;return r.createElement(dt.a,{sx:{m:1,width:"95%",minWidth:"120px"}},r.createElement(vt.a,{id:"demo-multiple-chip-label"},"Chip"),r.createElement(gt.a,{labelId:"demo-multiple-chip-label",id:"demo-multiple-chip",multiple:!0,value:i,onChange:a,input:r.createElement(pt.a,{id:"select-multiple-chip",label:"Chip"}),renderValue:function(e){return r.createElement(f.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5}},e.map(function(e){return r.createElement(Ht.a,{key:e,label:e})}))},MenuProps:rn},t.map(function(e){return r.createElement(K.a,{key:e,value:e,style:an(e,s,o)},e)})))}}))}var ln=n(194);function cn(e){var t=e.children,n=e.value,a=e.index,o=Object(S.a)(e,["children","value","index"]);return r.createElement("div",Object.assign({role:"tabpanel",hidden:n!==a,id:"vertical-tabpanel-".concat(a),"aria-labelledby":"vertical-tab-".concat(a)},o),n===a&&r.createElement(f.a,{sx:{p:{xs:0,md:3}}},r.createElement(f.a,null,t)))}function sn(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}}function un(e){var t=e.profile;console.log(t),console.log(t.location&&t.location.wilaya);var n=Object(we.a)(),a=Object(Oe.a)(n.breakpoints.up("sm")),o=r.useState(0),i=Object(l.a)(o,2),c=i[0],m=i[1],p=r.useState(),v=Object(l.a)(p,2),x=v[0],w=v[1];var O={firstname:t.firstname,lastname:t.lastname,phone:t.phone,email:t.email,facebook:t.facebook,youtube:t.youtube,instagram:t.instagram,website:t.website,linkedin:t.linkedin,wilaya:t.location&&t.location.wilaya,daira:t.location&&t.location.daira,commune:t.location&&t.location.commune,language:t.language,skills:t.skills},j=Object(u.f)({mode:"onChange",defaultValues:O});r.useEffect(function(){j.reset(O)},[t]);var k=Object(s.useMutation)(function(e){return q.a.patch("http://localhost:3000/users/"+t._id,e,{headers:{"Content-Type":"application/json",Accept:"*/*"},withCredentials:!0})},{onSuccess:function(e){console.log("mutation succesed"),console.log(e.data),console.log(e)},onError:function(e){console.log("mutation failed"),console.log(e.data)}});return r.createElement(f.a,{sx:{flexGrow:1,bgcolor:"background.paper",display:"flex"}},r.createElement(d.a,{container:!0},r.createElement(d.a,{item:!0,xs:12,sm:2},r.createElement(Qt.a,{orientation:a?"vertical":"horizontal",variant:a?"standard":"scrollable",scrollButtons:!a,allowScrollButtonsMobile:!a,value:c,onChange:function(e,t){m(t)},"aria-label":"Vertical tabs example",sx:{borderRight:1,borderColor:"divider"}},r.createElement(Kt.a,Object.assign({onClick:function(){return be.a},label:"Public Profile"},sn(0))),r.createElement(Kt.a,Object.assign({label:"Account management"},sn(1))),r.createElement(Kt.a,Object.assign({label:"Sociale Media"},sn(2))),r.createElement(Kt.a,Object.assign({label:"Projects & Skills"},sn(3))))),r.createElement(d.a,{item:!0,xs:12,sm:10,md:6},r.createElement(u.b,j,r.createElement(f.a,{key:0,component:"form",noValidate:!0,onSubmit:j.handleSubmit(function(e){console.log(e);try{k.mutate(e)}catch(t){console.log(t)}}),sx:{mt:3}},r.createElement(cn,{value:c,index:0},r.createElement(f.a,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative"}},r.createElement(g.a,{alt:"Remy Sharp",src:x||"https://www.nicepng.com/png/detail/933-9332131_profile-picture-default-png.png",sx:{width:56,height:56}}),r.createElement(b.a,{component:"label",sx:{borderRadius:"50%"}},"Change",r.createElement("input",{type:"file",hidden:!0,onChange:function(e){console.log(e.target.files),w(URL.createObjectURL(e.target.files[0]))}}))),r.createElement(f.a,{sx:{display:"flex",p:1}},r.createElement(u.a,{name:"firstname",control:j.control,render:function(e){var t=e.field,n=t.onChange,a=t.value;return r.createElement(B.a,{onChange:n,value:a||"",label:"firstname",id:"firstname",variant:"outlined",sx:{flexGrow:1,mr:1}})}}),r.createElement(u.a,{name:"lastname",control:j.control,render:function(e){var t=e.field,n=t.onChange,a=t.value;return r.createElement(B.a,{onChange:n,value:a||"",label:"lastname",id:"lastname",variant:"outlined",sx:{flexGrow:1,mr:1}})}})),r.createElement(f.a,{sx:{display:"flex",p:1}},r.createElement(u.a,{name:"phone",control:j.control,render:function(e){var t=e.field,n=t.onChange,a=t.value;t.isTouched;return r.createElement(B.a,{onChange:n,value:a||"",label:"phone",id:"phone",variant:"outlined",sx:{flexGrow:1,mr:1}})}}),r.createElement(u.a,{name:"language",control:j.control,render:function(e){var t=e.field,n=t.onChange,a=t.value;t.isTouched;return r.createElement(dt.a,{sx:{flexGrow:1,m:1}},r.createElement(vt.a,{id:"demo-simple-select-helper-label"},"Language"),r.createElement(gt.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:a||"",label:"Language",onChange:n,sx:{minWidth:"110px"}},r.createElement(K.a,{value:"Francais"},"Francais"),r.createElement(K.a,{value:"English"},"English"),r.createElement(K.a,{value:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"},"\u0627\u0644\u0639\u0631\u0628\u064a\u0629")))}})),r.createElement(f.a,{sx:{display:"flex",p:1,flexWrap:"wrap"}},r.createElement(u.a,{name:"wilaya",control:j.control,render:function(e){var t=e.field,n=t.onChange,a=t.value;t.isTouched;return r.createElement(dt.a,{sx:{flexGrow:1,m:1}},r.createElement(vt.a,{id:"demo-simple-select-helper-label"},"wilaya"),r.createElement(gt.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:a||"",label:"wilaya",onChange:n,sx:{minWidth:"110px"}},r.createElement(K.a,{value:"naama"},"naama"),r.createElement(K.a,{value:"alger"},"alger"),r.createElement(K.a,{value:"oran"},"oran")))}}),r.createElement(u.a,{name:"daira",control:j.control,render:function(e){var t=e.field,n=t.onChange,a=t.value;t.isTouched;return r.createElement(dt.a,{sx:{flexGrow:1,m:1}},r.createElement(vt.a,{id:"demo-simple-select-helper-label"},"daira"),r.createElement(gt.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:a||"",label:"daira",onChange:n,sx:{minWidth:"110px"}},r.createElement(K.a,{value:"naama"},"naama"),r.createElement(K.a,{value:"alger"},"alger"),r.createElement(K.a,{value:"oran"},"oran")))}}),r.createElement(u.a,{name:"commune",control:j.control,render:function(e){var t=e.field,n=t.onChange,a=t.value;t.isTouched;return r.createElement(dt.a,{sx:{flexGrow:1,m:1}},r.createElement(vt.a,{id:"demo-simple-select-helper-label"},"commune"),r.createElement(gt.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:a||"",label:"commune",onChange:n,sx:{minWidth:"110px"}},r.createElement(K.a,{value:"naama"},"naama"),r.createElement(K.a,{value:"alger"},"alger"),r.createElement(K.a,{value:"oran"},"oran")))}})),r.createElement(f.a,{sx:{p:1}},r.createElement(u.a,{name:"email",control:j.control,render:function(e){var t=e.field,n=t.onChange,a=t.value;return r.createElement(B.a,{onChange:n,value:a||"",label:"email",id:"email",variant:"outlined",sx:{flexGrow:1,mr:1}})}}))),r.createElement(cn,{value:c,index:1},r.createElement(f.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",p:1,flexWrap:"wrap"}},r.createElement(E.a,{sx:{flexGrow:2}}," ","Convert Account"," "),r.createElement(u.a,{name:"type",control:j.control,render:function(e){var t=e.field,n=t.onChange,a=t.value;t.isTouched;return r.createElement(dt.a,{sx:{flexGrow:1,m:1}},r.createElement(vt.a,{id:"demo-simple-select-helper-label"},"profile type"),r.createElement(gt.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:a,label:"type",onChange:n,sx:{minWidth:"110px"}},r.createElement(K.a,{value:"client"},"client"),r.createElement(K.a,{value:"worker"},"worker")))}})),r.createElement(f.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",p:1,flexWrap:"wrap"}},r.createElement(E.a,{sx:{flexGrow:2}},"Change Password"),r.createElement(b.a,{sx:{},variant:"contained",color:"error"},"Change Password")),r.createElement(f.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",p:1,flexWrap:"wrap"}},r.createElement(E.a,{sx:{flexGrow:2}},"Deactivate Accounte"),r.createElement(b.a,{sx:{},variant:"contained",color:"error",size:"medium"},"Deactivate Account")),r.createElement(f.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",p:1,flexWrap:"wrap"}},r.createElement(E.a,{sx:{flexGrow:2}}," Delete Account "),r.createElement(b.a,{sx:{},variant:"contained",color:"error",size:"medium"},"Delete Account"))),r.createElement(cn,{value:c,index:2},r.createElement(f.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",p:.5,flexWrap:"wrap"}},r.createElement(E.a,{sx:{flexGrow:1}},"Facebook"),r.createElement(u.a,{name:"facebook",control:j.control,render:function(e){var t=e.field,n=t.onChange,a=t.value;return r.createElement(B.a,{onChange:n,value:a||"",label:"facebook",id:"facebook",variant:"outlined",sx:{flexGrow:1,mr:1}})}})),r.createElement(f.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",p:.5,flexWrap:"wrap"}},r.createElement(E.a,{sx:{flexGrow:1}},"Youtube"),r.createElement(u.a,{name:"youtube",control:j.control,render:function(e){var t=e.field,n=t.onChange,a=t.value;return r.createElement(B.a,{onChange:n,value:a||"",label:"youtube",id:"youtube",variant:"outlined",sx:{flexGrow:1,mr:1}})}})),r.createElement(f.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",p:.5,flexWrap:"wrap"}},r.createElement(E.a,{sx:{flexGrow:1}}," Linkedin"),r.createElement(u.a,{name:"linkedin",control:j.control,render:function(e){var t=e.field,n=t.onChange,a=t.value;return r.createElement(B.a,{onChange:n,value:a||"",label:"linkedin",id:"linkedin",variant:"outlined",sx:{flexGrow:1,mr:1}})}})),r.createElement(f.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",p:.5,flexWrap:"wrap"}},r.createElement(E.a,{sx:{flexGrow:1}}," Instagram "),r.createElement(u.a,{name:"instagram",control:j.control,render:function(e){var t=e.field,n=t.onChange,a=t.value;return r.createElement(B.a,{onChange:n,value:a||"",label:"instagram",id:"instagram",variant:"outlined",sx:{flexGrow:1,mr:1}})}})),r.createElement(f.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",p:.5,flexWrap:"wrap"}},r.createElement(E.a,{sx:{flexGrow:1}}," Website "),r.createElement(u.a,{name:"website",control:j.control,render:function(e){var t=e.field,n=t.onChange,a=t.value;return r.createElement(B.a,{onChange:n,value:a||"",label:"website",id:"website",variant:"outlined",sx:{flexGrow:1,mr:1}})}}))),r.createElement(cn,{value:c,index:3},r.createElement(Y.a,{elevation:3},r.createElement(f.a,{sx:{m:1,display:"flex",flexDirection:"row",alignItems:"center",flexWrap:"wrap"}},"Skills",r.createElement(on,{skills:t.skills}))),r.createElement(Y.a,{sx:{},elevation:3},r.createElement(f.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"sticky",top:0,width:"100%"}},console.log(t.skills),r.createElement(X.a,{textaligns:"left"}),r.createElement(h.a,{sx:{m:1}},r.createElement(nn,{profileId:t._id})),t.projects&&t.projects.map(function(e,t){return r.createElement(h.a,{sx:{m:1},key:t},r.createElement(y.a,null,r.createElement(E.a,{variant:"h5",component:"div"},e.name),r.createElement(E.a,{sx:{fontSize:14,position:"sticky"},color:"text.secondary",gutterBottom:!0},e.date),r.createElement(E.a,{variant:"body2"},e.description,r.createElement("br",null),e.description)),r.createElement(G.a,null,r.createElement(b.a,{size:"small"}," ",r.createElement(ve.a,{href:e.link}," Learn More"))))})))),r.createElement(b.a,{sx:{position:"fixed",right:40,bottom:40},type:"submit",variant:"contained",color:"success"},"Save"))))),r.createElement(ln.DevTool,{control:j.control}))}var mn=function(){var e=r.useState({}),t=Object(l.a)(e,2),n=t[0],a=t[1],o=Object(be.p)().profileId,i=Object(s.useQuery)("Myprofile",function(){return q.a.get("http://localhost:3000/users/profile",{params:{isMyprofile:!0,profileId:o},withCredentials:!0})},{refetchOnWindowFocus:!1,onSuccess:function(e){a(e.data[0]),console.log(e)},onError:function(e){console.log(e)}});return i.isLoading,i.data,i.isError,i.error,i.refetch,console.log(n),r.createElement(r.Fragment,null,r.createElement(bt,null),r.createElement(un,{profile:n}))},fn=n(456),dn=n(560),pn=Object(fn.a)({components:{MuiLink:{defaultProps:{underline:"none",color:"#000"}}},palette:{}}),hn=pn=Object(dn.a)(pn);var vn=function(){var e=function(){var e={loggedIn:!0};return e&&e.loggedIn}();return a.a.createElement(a.a.Fragment,null,e?a.a.createElement(be.b,null):a.a.createElement(be.a,{to:"/"}))},gn=n(123),yn=function(e){var t=e.contacts,n=e.changeChat,r=e.setOpen,o=e.setIsActivechatinput,i=a.a.useState(!0),c=Object(l.a)(i,2),s=c[0],u=c[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(f.a,{sx:{width:"350px",position:"fixed",flexDirection:"column",right:15,bottom:0,zIndex:2,display:"flex"}},a.a.createElement(f.a,{onClick:function(){u(function(e){return!e})},sx:{display:"flex",direction:"row",justifyContent:"space-between",alignItems:"center",p:1,height:"40px",backgroundColor:"primary.dark"}},a.a.createElement(E.a,{variant:"subtitle1"},"Messages")),a.a.createElement(f.a,{sx:{flexDirection:"column",display:s?"flex":"none",background:"#fff",height:"500px",zIndex:2}},t.users&&t.users.map(function(e,t){return a.a.createElement(f.a,{key:t,sx:{pl:2,pt:2,display:"flex",direction:"row",alignItems:"center",justifyContent:"flex-start"},onClick:function(){n(e),r(!0),o(!0)}},a.a.createElement(g.a,{alt:"Remy Sharp",src:"/static/images/avatar/1.jpg",sx:{mr:.5}}),a.a.createElement(E.a,{variant:"subtitle1"},e.firstname+" "+e.lastname))}))))},En=n(17),xn=n(197),bn=n.n(xn),wn=n(118),On=n.n(wn),jn=n(188),kn=n.n(jn),Ln=n(196),Cn=n.n(Ln),Sn=(n(423),n(122)),_n=n.n(Sn),In=n(195),Pn=n.n(In);var Gn=function(e){var t=e.user,n=e.socket,o=e.currentChat;console.log(" this is vid "),console.log(t._id),console.log(n),console.log(o._id);var i=Object(r.useState)(""),c=Object(l.a)(i,2),s=c[0],u=c[1],m=Object(r.useState)(),d=Object(l.a)(m,2),p=d[0],h=d[1],v=Object(r.useState)(!1),g=Object(l.a)(v,2),y=g[0],E=g[1],x=Object(r.useState)(""),w=Object(l.a)(x,2),O=w[0],j=w[1],k=Object(r.useState)(),L=Object(l.a)(k,2),C=L[0],S=L[1],_=Object(r.useState)(!1),I=Object(l.a)(_,2),P=I[0],G=I[1],F=Object(r.useState)(""),N=Object(l.a)(F,2),D=(N[0],N[1],Object(r.useState)(!1)),M=Object(l.a)(D,2),T=M[0],A=M[1],z=Object(r.useState)(""),R=Object(l.a)(z,2),U=R[0],Y=R[1],B=Object(r.useRef)(),J=Object(r.useRef)(),q=Object(r.useRef)();return Object(r.useEffect)(function(){navigator.mediaDevices&&navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(function(e){h(e),B.current.srcObject=e}),u(t._id),n.current.on("callUser",function(e){E(!0),j(e.from),Y(e.name),S(e.signal)})},[]),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"video-container"},a.a.createElement("div",{className:"video"},a.a.createElement("video",{playsInline:!0,muted:!0,ref:B,autoPlay:!0,style:{width:"300px"}})),a.a.createElement("div",{className:"video"},P&&!T?a.a.createElement("video",{playsInline:!0,ref:J,autoPlay:!0,style:{width:"300px"}}):null)),a.a.createElement("div",{className:"myId"},a.a.createElement("div",{className:"call-button"},a.a.createElement(f.a,{sx:{position:"fixed",right:"45%",bottom:"10%"}},P&&!T?a.a.createElement(W.a,{color:"error",onClick:function(){A(!0),q.current.destroy()}},a.a.createElement(Pn.a,{fontSize:"large"})):a.a.createElement(W.a,{color:"primary","aria-label":"call",onClick:function(){return function(e){var t=new _n.a({initiator:!0,trickle:!1,stream:p});t.on("signal",function(t){console.log("call user "),n.current.emit("callUser",{userToCall:e,signalData:t,from:s,name:U})}),t.on("stream",function(e){J.current.srcObject=e}),n.current.on("callAccepted",function(e){G(!0),t.signal(e)}),q.current=t}(o._id)}},a.a.createElement(kn.a,{fontSize:"large"}))))),a.a.createElement("div",null,y&&!P?a.a.createElement("div",{className:"caller"},a.a.createElement("h1",null,U," is calling..."),a.a.createElement(b.a,{variant:"contained",color:"primary",onClick:function(){G(!0);var e=new _n.a({initiator:!1,trickle:!1,stream:p});e.on("signal",function(e){n.current.emit("answerCall",{signal:e,to:O})}),e.on("stream",function(e){J.current.srcObject=e}),e.signal(C),q.current=e}},"Answer")):null)))};function Fn(e){var t=e.currentChat,n=e.user,a=e.socket,o=r.useState(!1),i=Object(l.a)(o,2),c=i[0],s=i[1],u=function(){return s(!0)};return r.createElement("div",null,r.createElement(W.a,{sx:{p:.5},onClick:u},r.createElement(kn.a,null)),r.createElement(W.a,{sx:{p:.5},onClick:u},r.createElement(Cn.a,null)),r.createElement(de.a,{open:c,onClose:function(){return s(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",sx:{display:"flex",justifyContent:"center"}},r.createElement(f.a,{sx:{background:"#fff",height:"100%",width:"70%"}},c?r.createElement(Gn,{currentChat:t,user:n,socket:a}):"")))}var Wn=n(191),Nn=n.n(Wn),Dn=n(189),Mn=n.n(Dn),Tn=n(190),An=n.n(Tn);function zn(){zn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),l=new k(a||[]);return r(i,"_invoke",{value:b(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var m={};function f(){}function d(){}function p(){}var h={};c(h,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==t&&n.call(g,o)&&(h=g);var y=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,l){var c=u(e[a],e,o);if("throw"!==c.type){var s=c.arg,m=s.value;return m&&"object"==typeof m&&n.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,i,l)},function(e){r("throw",e,i,l)}):t.resolve(m).then(function(e){s.value=e,i(s)},function(e){return r("throw",e,i,l)})}l(c.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function b(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return C()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},E(x.prototype),c(x.prototype,i,function(){return this}),e.AsyncIterator=x,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new x(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},E(y),c(y,l,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}var Rn=function(e){var t=e.currentChat,n=e.socket,o=(e.setOpen,e.isOpen),i=e.handleClickOpen,c=e.isActive,s=(e.setIsActive,e.handleClick),u=Object(r.useContext)(J),m=u.user,f=(u.setUser,a.a.useState("")),d=Object(l.a)(f,2),p=d[0],h=d[1],v=a.a.useState([]),y=Object(l.a)(v,2),x=y[0],b=y[1],w=a.a.useRef(),O=a.a.useState(null),j=Object(l.a)(O,2),k=j[0],L=j[1];a.a.useEffect(function(){!function(){var e=Object(fe.a)(zn().mark(function e(){var n,r;return zn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=m._id,e.next=3,q.a.post(V+"/messages/getmsg",{from:n,to:t._id});case 3:r=e.sent,b(r.data);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[t]);var C=function(){var e=Object(fe.a)(zn().mark(function e(r){var a,o;return zn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=m._id,n.current.emit("send-msg",{to:t._id,from:a,msg:r}),e.next=4,q.a.post(V+"/messages/addmsg",{to:t._id,from:a,message:r});case 4:(o=Object(En.a)(x)).push({fromSelf:!0,message:r}),b(o);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return a.a.useEffect(function(){k&&b(function(e){return[].concat(Object(En.a)(e),[k])})},[k]),a.a.useEffect(function(){w.current&&w.current.scrollIntoView({behavior:"smooth"})},[x]),n.current&&n.current.on("msg-recieve",function(e){L({fromSelf:!1,message:e})}),a.a.createElement(a.a.Fragment,null,a.a.createElement(He.a,{sx:{width:"362px",position:"fixed",right:"385px",bottom:0,zIndex:2,display:o?"block":"none"}},a.a.createElement(He.a,{onClick:s,sx:{display:"flex",direction:"row",justifyContent:"space-between",p:1,height:"40px",backgroundColor:"primary.dark"}},a.a.createElement(He.a,{sx:{display:"flex",direction:"row",alignItems:"center"}},a.a.createElement(g.a,{alt:t.firstname&&t.firstname.charAt(0),src:t.photo,sx:{mr:.5}}),a.a.createElement(E.a,{variant:"subtitle1"},t.firstname+" "+t.lastname," ")),a.a.createElement(He.a,{sx:{display:"flex",direction:"row",alignItems:"center"}},a.a.createElement(Fn,{socket:n,user:m,currentChat:t}),a.a.createElement(W.a,{sx:{p:.5}},a.a.createElement(bn.a,null)),a.a.createElement(W.a,{sx:{p:.5},onClick:i},a.a.createElement(On.a,null)))),a.a.createElement(He.a,{sx:{height:"400px",width:"100%",display:c?"block":"none",mb:c?2:0}},a.a.createElement(He.a,{sx:{height:"360px",width:"100%",background:"#fff",overflow:"hidden",overflowY:"scroll"}},x.map(function(e,t){return a.a.createElement("div",{key:t,ref:w,style:{display:"flex",justifyContent:e.fromSelf?"flex-end":"flex-start",padding:"10px"}},a.a.createElement("div",{style:{background:e.fromSelf?"#dcf8c6":"#fff",padding:"10px",borderRadius:"10px",maxWidth:"60%"}},a.a.createElement("span",null,e.message)))})),a.a.createElement(He.a,{sx:{height:"100%",background:"#fff"}},a.a.createElement(W.a,{"aria-label":"delete"},a.a.createElement(Mn.a,null)),a.a.createElement(W.a,{"aria-label":"delete"},a.a.createElement(An.a,null)),a.a.createElement(B.a,{id:"outlined-basic",label:"Outlined",variant:"outlined",onChange:function(e){return h(e.target.value)},value:p}),a.a.createElement(W.a,{"aria-label":"delete",onClick:function(e){return function(e){e.preventDefault(),p.length>0&&(C(p),h(""))}(e)}},a.a.createElement(Nn.a,null))))))};function Un(){Un=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),l=new k(a||[]);return r(i,"_invoke",{value:b(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var m={};function f(){}function d(){}function p(){}var h={};c(h,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==t&&n.call(g,o)&&(h=g);var y=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,l){var c=u(e[a],e,o);if("throw"!==c.type){var s=c.arg,m=s.value;return m&&"object"==typeof m&&n.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,i,l)},function(e){r("throw",e,i,l)}):t.resolve(m).then(function(e){s.value=e,i(s)},function(e){return r("throw",e,i,l)})}l(c.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function b(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return C()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},E(x.prototype),c(x.prototype,i,function(){return this}),e.AsyncIterator=x,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new x(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},E(y),c(y,l,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function Yn(){var e=r.useRef(),t=r.useState({_id:"",firstname:"",lastname:"",photo:""}),n=Object(l.a)(t,2),a=n[0],o=n[1],i=r.useState(void 0),c=Object(l.a)(i,2),s=c[0],u=c[1],m=r.useState([]),f=Object(l.a)(m,2),d=f[0],p=f[1];r.useEffect(function(){(function(){var e=Object(fe.a)(Un().mark(function e(){return Un().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem("user")){e.next=3;break}e.next=8;break;case 3:return e.t0=u,e.next=6,JSON.parse(localStorage.getItem("user"));case 6:e.t1=e.sent,(0,e.t0)(e.t1);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()()},[]),r.useEffect(function(){s&&(e.current=Object(gn.a)(V),e.current.emit("add-user",s._id))},[s]),r.useEffect(function(){function e(){return(e=Object(fe.a)(Un().mark(function e(){var t;return Un().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=5;break}return e.next=3,q.a.get(V+"/users/"+s._id);case 3:t=e.sent,p(t.data);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[s]);var h=r.useState(!1),v=Object(l.a)(h,2),g=v[0],y=v[1],E=r.useState(!0),x=Object(l.a)(E,2),b=x[0],w=x[1];return r.createElement(r.Fragment,null,r.createElement(Rn,{currentChat:a,socket:e,handleClickOpen:function(){y(function(e){return!e})},isOpen:g,setOpen:y,isActive:b,setIsActive:w,handleClick:function(){w(function(e){return!e})}}),r.createElement(yn,{contacts:d,changeChat:function(e){o(e)},setOpen:y,setIsActivechatinput:w}))}var Bn=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(bt,null),a.a.createElement(He.a,{sx:{display:"flex",justifyContent:"center",flexDirection:"row",flexWrap:"wrap"}},a.a.createElement(x,null),a.a.createElement(x,null),a.a.createElement(x,null),a.a.createElement(x,null),a.a.createElement(x,null),a.a.createElement(x,null)))},Jn=function(e){var t=e.contacts,n=e.changeChat,r=e.setIsOnlistofconatacts,o=e.isOnlistofconatacts,i=Object(be.n)();return a.a.createElement(a.a.Fragment,null,a.a.createElement(f.a,{sx:{width:"100%",flexDirection:"column",zIndex:2,display:"flex"}},a.a.createElement(f.a,{sx:{display:"flex",direction:"row",justifyContent:"space-between",alignItems:"center",p:1,height:"40px",backgroundColor:"primary.dark"}},a.a.createElement(W.a,{sx:{p:.5},onClick:function(){return i("/")}},a.a.createElement(On.a,null)),a.a.createElement(E.a,{variant:"subtitle1"},"Messages")),a.a.createElement(f.a,{sx:{flexDirection:"column",display:"flex",background:"#fff",height:"100%",zIndex:2}},t.users&&t.users.map(function(e,t){return a.a.createElement(f.a,{key:t,sx:{pl:2,pt:2,display:"flex",direction:"row",alignItems:"center",justifyContent:"flex-start"},onClick:function(){r(!1,function(){console.log(o)}),n(e)}},a.a.createElement(g.a,{alt:"Remy Sharp",src:"/static/images/avatar/1.jpg",sx:{mr:.5}}),a.a.createElement(E.a,{variant:"subtitle1"},e.firstname+" "+e.lastname))}))))};function qn(){qn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),l=new k(a||[]);return r(i,"_invoke",{value:b(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var m={};function f(){}function d(){}function p(){}var h={};c(h,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==t&&n.call(g,o)&&(h=g);var y=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,l){var c=u(e[a],e,o);if("throw"!==c.type){var s=c.arg,m=s.value;return m&&"object"==typeof m&&n.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,i,l)},function(e){r("throw",e,i,l)}):t.resolve(m).then(function(e){s.value=e,i(s)},function(e){return r("throw",e,i,l)})}l(c.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function b(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return C()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},E(x.prototype),c(x.prototype,i,function(){return this}),e.AsyncIterator=x,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new x(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},E(y),c(y,l,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}var Vn=function(e){var t=e.currentChat,n=e.socket,o=e.setIsOnlistofconatacts,i=Object(r.useContext)(J),c=i.user;i.setUser;console.log(c);var s=a.a.useState(""),u=Object(l.a)(s,2),m=u[0],f=u[1],d=a.a.useState([]),p=Object(l.a)(d,2),h=p[0],v=p[1],y=a.a.useRef(),x=a.a.useState(null),b=Object(l.a)(x,2),w=b[0],O=b[1];a.a.useEffect(function(){!function(){var e=Object(fe.a)(qn().mark(function e(){var n,r;return qn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c._id,e.next=3,q.a.post(V+"/messages/getmsg",{from:n,to:t._id});case 3:r=e.sent,v(r.data);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[t]);var j=function(){var e=Object(fe.a)(qn().mark(function e(r){var a,o;return qn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=c._id,console.log(n.current),n.current.emit("send-msg",{to:t._id,from:a,msg:r}),e.next=5,q.a.post(V+"/messages/addmsg",{to:t._id,from:a,message:r});case 5:(o=Object(En.a)(h)).push({fromSelf:!0,message:r}),v(o);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return a.a.useEffect(function(){w&&v(function(e){return[].concat(Object(En.a)(e),[w])})},[w]),a.a.useEffect(function(){y.current&&y.current.scrollIntoView({behavior:"smooth"})},[h]),n.current&&n.current.on("msg-recieve",function(e){O({fromSelf:!1,message:e})}),a.a.createElement(a.a.Fragment,null,a.a.createElement(He.a,{sx:{width:"100%",zIndex:2}},a.a.createElement(He.a,{sx:{position:"fixed",top:0,display:"flex",direction:"row",justifyContent:"space-between",p:1,height:"40px",width:"100%",backgroundColor:"primary.dark"}},a.a.createElement(He.a,{sx:{display:"flex",direction:"row",alignItems:"center"}},a.a.createElement(g.a,{alt:t.firstname&&t.firstname.charAt(0),src:t.photo,sx:{mr:.5}}),a.a.createElement(E.a,{variant:"subtitle1"},t.firstname+" "+t.lastname," ")),a.a.createElement(He.a,{sx:{display:"flex",direction:"row",alignItems:"center"}},a.a.createElement(Fn,{socket:n,user:c,currentChat:t}),a.a.createElement(W.a,{sx:{p:.5},onClick:function(){return o(!0)}},a.a.createElement(On.a,null)))),a.a.createElement(He.a,{sx:{height:"100%",width:"100%",mb:2}},a.a.createElement(He.a,{sx:{height:"100%",width:"100%",background:"#fff",overflow:"hidden",overflowY:"scroll"}},h.map(function(e,t){return a.a.createElement("div",{key:t,ref:y,style:{display:"flex",justifyContent:e.fromSelf?"flex-end":"flex-start",padding:"10px"}},a.a.createElement("div",{style:{background:e.fromSelf?"#dcf8c6":"#fff",padding:"10px",borderRadius:"10px",maxWidth:"60%"}},a.a.createElement("span",null,e.message)))})),a.a.createElement(He.a,{sx:{height:"100%",background:"#fff"}},a.a.createElement(W.a,{"aria-label":"delete"},a.a.createElement(Mn.a,null)),a.a.createElement(W.a,{"aria-label":"delete"},a.a.createElement(An.a,null)),a.a.createElement(B.a,{id:"outlined-basic",label:"Outlined",variant:"outlined",onChange:function(e){return f(e.target.value)},value:m}),a.a.createElement(W.a,{"aria-label":"delete",onClick:function(e){return function(e){e.preventDefault(),m.length>0&&(j(m),f(""))}(e)}},a.a.createElement(Nn.a,null))))))};function Hn(){Hn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),l=new k(a||[]);return r(i,"_invoke",{value:b(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var m={};function f(){}function d(){}function p(){}var h={};c(h,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==t&&n.call(g,o)&&(h=g);var y=p.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,l){var c=u(e[a],e,o);if("throw"!==c.type){var s=c.arg,m=s.value;return m&&"object"==typeof m&&n.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,i,l)},function(e){r("throw",e,i,l)}):t.resolve(m).then(function(e){s.value=e,i(s)},function(e){return r("throw",e,i,l)})}l(c.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function b(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return C()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},E(x.prototype),c(x.prototype,i,function(){return this}),e.AsyncIterator=x,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new x(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},E(y),c(y,l,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function Qn(){var e=r.useRef(),t=r.useState({_id:"",firstname:"",lastname:"",photo:""}),n=Object(l.a)(t,2),a=n[0],o=n[1],i=r.useState(void 0),c=Object(l.a)(i,2),s=c[0],u=c[1],m=r.useState([]),f=Object(l.a)(m,2),d=f[0],p=f[1],h=r.useState(!0),v=Object(l.a)(h,2),g=v[0],y=v[1];r.useEffect(function(){(function(){var e=Object(fe.a)(Hn().mark(function e(){return Hn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem("user")){e.next=3;break}e.next=8;break;case 3:return e.t0=u,e.next=6,JSON.parse(localStorage.getItem("user"));case 6:e.t1=e.sent,(0,e.t0)(e.t1);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()()},[]),r.useEffect(function(){s&&(e.current=Object(gn.a)(V),e.current.emit("add-user",s._id))},[s]),r.useEffect(function(){function e(){return(e=Object(fe.a)(Hn().mark(function e(){var t;return Hn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=5;break}return e.next=3,q.a.get(V+"/users/"+s._id);case 3:t=e.sent,p(t.data);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[s]);return r.createElement(r.Fragment,null,g?r.createElement(Jn,{contacts:d,changeChat:function(e){o(e)},setIsOnlistofconatacts:y,isOnlistofconatacts:g}):r.createElement(Vn,{currentChat:a,socket:e,setIsOnlistofconatacts:y}))}var Kn=new s.QueryClient;var Xn=function(){var e=Object(u.f)({mode:"onChange"}),t=(e.register,e.control,e.handleSubmit,Object(Oe.a)(hn.breakpoints.down("md"))),n=a.a.useState({}),o=Object(l.a)(n,2),i=o[0],m=o[1],f=a.a.useState(a.a.createElement(Yn,{key:1})),d=Object(l.a)(f,2),p=d[0];return d[1],Object(r.useEffect)(function(){if(JSON.parse(localStorage.getItem("user"))){var e=JSON.parse(localStorage.getItem("user"));m(e)}},[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(Ct.a,{theme:hn},a.a.createElement(J.Provider,{value:{user:i,setUser:m}},i._id?t?"":p:"",a.a.createElement(s.QueryClientProvider,{client:Kn},a.a.createElement(c.ReactQueryDevtools,{initialIsOpen:!1}),a.a.createElement(L.a,null,a.a.createElement(be.e,null,a.a.createElement(be.c,{path:"/",element:a.a.createElement(Lt,null)}),a.a.createElement(be.c,{path:"/vid",element:a.a.createElement(Gn,null)}),a.a.createElement(be.c,{path:"SearchResults",element:a.a.createElement(Bn,null)}),a.a.createElement(be.c,{path:"Profile/:profileId",element:a.a.createElement(tn,null)}),a.a.createElement(be.c,{path:"/ChatMobile",element:a.a.createElement(Qn,null)}),a.a.createElement(be.c,{element:a.a.createElement(vn,null)},a.a.createElement(be.c,{path:"/EditProfile/:profileId",element:a.a.createElement(mn,null)})),a.a.createElement(be.c,{path:"*",element:a.a.createElement(Lt,null)})))))))};i.a.createRoot(document.getElementById("root")).render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Xn,null)))}},[[270,2,1]]]);
//# sourceMappingURL=main.51d1f00a.chunk.js.map