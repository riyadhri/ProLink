(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{292:function(e,t,n){e.exports=n(455)},445:function(e,t){},447:function(e,t){},455:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(232),o=n.n(l),i=n(10),c=n(233),s=n(31),u=n(28),m=n(234),d=n(527),f=n(552),p=n(305),h=n(561),E=n(562),g=n(550),v=n(564),x=n(563);function b(){return a.createElement(h.a,{elevation:10,sx:{mb:1,ml:1,mr:1,mt:0,minWidth:"282px",width:{xs:"100%",sm:"45%"}}},a.createElement(E.a,{avatar:a.createElement(g.a,{sx:{bgcolor:p.a[500]},"aria-label":"recipe"},"R"),title:"Shrimp and Chorizo Paella",subheader:"Freelancer"}),a.createElement(v.a,{sx:{pt:0}},a.createElement(x.a,{variant:"subtitle2",color:"text.secondary"},"0656028272"),a.createElement(x.a,{variant:"subtitle2",color:"text.secondary"},"riyadh.derbale99@gmail.com")))}var y=n(551),w=n(123),j=n.n(w),O=n(141),k=n.n(O);function C(e){var t=e.user;return a.createElement(h.a,{elevation:10,sx:{mb:1,ml:1,mr:1,mt:0}},a.createElement(E.a,{sx:{px:1},avatar:a.createElement(g.a,{sx:{bgcolor:p.a[500]},"aria-label":"recipe"},t.firstname.charAt(0)),title:t.firstname+" "+t.lastname,subheader:t.job}),a.createElement(v.a,{sx:{pr:1,pl:1,pt:0,pb:"0px"}},a.createElement(y.a,{size:"small"},a.createElement(k.a,null),a.createElement(x.a,{variant:"subtitle2"},"Message")),a.createElement(y.a,{size:"small"},a.createElement(j.a,null),a.createElement(x.a,{variant:"subtitle2"},"Follow"))))}var S=n(60),L=n(7),I=n(511),_=n(573),P=n(574),W=n(575),M=n(571),D=n(323),F=n.n(D),G=n(324),z=n.n(G),A=n(236),T=n.n(A),N=n(237),R=n.n(N),U=(n(54),n(549)),B=n(544),J=r.a.createContext(null),V=n(536),Y="http://192.168.1.33:3000";function q(e){var t=e.comments,n=e.postId,l=Object(a.useContext)(J),o=l.user,i=(l.setUser,Object(s.useMutation)(function(e){return V.a.post(Y+"/posts/addcomment",e)},{onSuccess:function(e){console.log(e)},onError:function(e){console.log(e)}})),c=Object(u.f)(),m=c.register,d=c.handleSubmit;c.formState.errors;return r.a.createElement("div",{style:{padding:0},className:"App"},r.a.createElement("h4",{style:{marginTop:0}},"Comments"),t.map(function(e,t){return r.a.createElement(U.a,{style:{padding:"10px 10px"},key:t},r.a.createElement(f.a,{container:!0,wrap:"nowrap",spacing:2},r.a.createElement(f.a,{item:!0},r.a.createElement(g.a,{alt:"Remy Sharp",src:e.sender.photo})),r.a.createElement(f.a,{justifyContent:"left",item:!0,xs:!0,zeroMinWidth:!0},r.a.createElement("h4",{style:{margin:0,textAlign:"left"}},e.sender.firstname+" "+e.sender.lastname," "),r.a.createElement("p",{style:{textAlign:"left"}},e.value),r.a.createElement("p",{style:{textAlign:"left",color:"gray"}},e.date))))}),r.a.createElement(f.a,{container:!0,wrap:"nowrap",spacing:2,sx:{pt:3}},r.a.createElement(f.a,{item:!0},r.a.createElement(g.a,{alt:"Remy Sharp"})),r.a.createElement(f.a,{justifyContent:"left",item:!0,xs:!0,zeroMinWidth:!0},r.a.createElement("form",{onSubmit:d(function(e){i.mutate({value:e.value,postId:n,sender:o._id}),console.log({value:e.value,postId:n,user:o._id})})},r.a.createElement(B.a,Object.assign({fullWidth:!0,id:"outlined-multiline-flexible",label:"add comment ",multiline:!0,maxRows:4},m("value",{required:!0}))),r.a.createElement(y.a,{type:"submit",variant:"contained"},"Save")))))}var Q=n(457),H=n(572),K=n(526),X=n(321),Z=n.n(X),$=n(235),ee=n.n($),te=n(144),ne=n.n(te),ae=n(322),re=n.n(ae),le=Object(L.a)(function(e){return a.createElement(Q.a,Object.assign({elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},e))})(function(e){var t=e.theme;return{"& .MuiPaper-root":{borderRadius:6,marginTop:t.spacing(1),minWidth:180,color:"light"===t.palette.mode?"rgb(55, 65, 81)":t.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:t.palette.text.secondary,marginRight:t.spacing(1.5)},"&:active":{backgroundColor:Object(I.a)(t.palette.primary.main,t.palette.action.selectedOpacity)}}}}}),oe=Object(L.a)(function(e){e.expand;var t=Object(S.a)(e,["expand"]);return a.createElement(M.a,t)})(function(e){var t=e.theme;e.expand;return{transform:"rotate(0deg)",marginLeft:"0",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})}});function ie(e){var t=e.postId,n=e.postDescription,r=e.postPhotos,l=(e.postvideos,e.postDate),o=e.postLikes,c=e.postComments,s=e.postShares,u=(e.postViews,e.postOwner),m=(e.postownername,e.postownerimage,Object(a.useContext)(J)),d=m.user;m.setUser;console.log("postlikes"+o.likeinfo);var f=a.useState(null),b=Object(i.a)(f,2),y=b[0],w=b[1],j=Boolean(y),O=function(){w(null)},k=a.useState(!1),C=Object(i.a)(k,2),S=C[0],L=C[1];console.log(o.likeinfo);var I=o.likeinfo.some(function(e){return Object.values(e).some(function(e){return e.includes(d._id)})});return console.log(I),a.createElement(a.Fragment,null,a.createElement(h.a,{elevation:10,sx:{width:"100%",mb:1}},a.createElement(le,{id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},anchorEl:y,open:j,onClose:O},a.createElement(H.a,{onClick:O,disableRipple:!0},a.createElement(Z.a,null),"Edit"),a.createElement(H.a,{onClick:O,disableRipple:!0},a.createElement(ee.a,null),"Delete"),a.createElement(K.a,{sx:{my:.5}}),a.createElement(H.a,{onClick:O,disableRipple:!0},a.createElement(ne.a,null),"Save"),a.createElement(H.a,{onClick:O,disableRipple:!0},a.createElement(re.a,null),"Report")),a.createElement(E.a,{avatar:a.createElement(g.a,{sx:{bgcolor:p.a[500]},"aria-label":"recipe"},u.firstname.charAt(0)),action:a.createElement(M.a,{"aria-label":"settings",onClick:function(e){w(e.currentTarget)}},a.createElement(T.a,null)),title:u.firstname+" "+u.lastname,subheader:l}),a.createElement(v.a,null,a.createElement(x.a,{variant:"body2",color:"text.secondary"},n)),a.createElement(_.a,{component:"img",image:r[0]?r[0]:"https://picsum.photos/200",alt:"Paella dish",sx:{maxHeight:"450px",maxWidth:"100%"}}),a.createElement(P.a,{disableSpacing:!0,sx:{display:"flex",justifyContent:"flex-start"}},a.createElement(M.a,{"aria-label":"add to favorites",color:I?"error":"default",onClick:function(){I?(console.log(t),V.a.post(Y+"/posts/dislike",{postId:t,sender:d._id})):V.a.post(Y+"/posts/addlike",{postId:t,sender:d._id})}},a.createElement(F.a,null),o.number),a.createElement(oe,{expand:S,onClick:function(){L(!S)},"aria-expanded":S,"aria-label":"show more"},a.createElement(R.a,null)),a.createElement(M.a,{"aria-label":"share"},a.createElement(z.a,null),s)),a.createElement(W.a,{in:S,timeout:"auto",unmountOnExit:!0},a.createElement(v.a,{sx:{pt:0}},a.createElement(q,{comments:c,postId:t})))))}var ce=n(9),se=n(578),ue=n(579),me=n(37),de=n(542),fe=(n(576),n(539),n(554)),pe=n(53),he=(n(165),n(162),n(92)),Ee=n(11);he.a({}).required();n(528),n(555);he.a({email:he.b().email().required(),firstName:he.b().min(5).required(),lastName:he.b().min(5).required(),password:he.b().min(7).required()}).required();var ge=n(530),ve=n(535),xe=n(241),be=n.n(xe),ye=n(242),we=n.n(ye),je=n(27),Oe=n(529);function ke(){var e=Object(a.useContext)(J),t=e.user,n=(e.setUser,Object(je.a)()),r=Object(Oe.a)(n.breakpoints.up("sm")),l=Object(Ee.n)(),o=a.useState(null),c=Object(i.a)(o,2),s=c[0],u=c[1],m=Boolean(s),f=function(){u(null)};return a.createElement(a.Fragment,null,a.createElement(d.a,{sx:{display:"flex",alignItems:"center",textAlign:"center"}},a.createElement(ve.a,{title:"Account settings"},a.createElement(M.a,{onClick:function(e){u(e.currentTarget)},size:"small",sx:{ml:2},"aria-controls":m?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":m?"true":void 0},a.createElement(g.a,{sx:{width:32,height:32}},"M")))),a.createElement(Q.a,{anchorEl:s,id:"account-menu",open:m,onClose:f,onClick:f,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"}},a.createElement(H.a,{onClick:function(){return l("/Profile/"+t._id)}},a.createElement(g.a,null)," Profile"),a.createElement(H.a,{onClick:f},a.createElement(g.a,null)," My account"),a.createElement(K.a,null),a.createElement(H.a,{onClick:f},a.createElement(ge.a,null,a.createElement(j.a,{fontSize:"small"})),"Add another account"),a.createElement(H.a,{onClick:function(){l(r?"/EditProfile":"/EditProfileMobile")}},a.createElement(ge.a,null,a.createElement(be.a,{fontSize:"small"})),"Settings"),a.createElement(H.a,{onClick:f},a.createElement(ge.a,null,a.createElement(we.a,{fontSize:"small"})),"Logout")))}var Ce=n(540),Se=n(172),Le=n.n(Se),Ie=48;function _e(){var e=a.useState(null),t=Object(i.a)(e,2),n=t[0],r=t[1],l=Boolean(n),o=function(){r(null)};return a.createElement("div",null,a.createElement(M.a,{"aria-label":"more",id:"long-button","aria-controls":l?"long-menu":void 0,"aria-expanded":l?"true":void 0,"aria-haspopup":"true",onClick:function(e){r(e.currentTarget)},color:"inherit"},a.createElement(Ce.a,{badgeContent:4,color:"error"},a.createElement(Le.a,null))),a.createElement(Q.a,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:n,open:l,onClose:o,PaperProps:{style:{maxHeight:4.5*Ie,width:"50ch"}}},a.createElement(H.a,{key:1,onClick:o,sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"}},a.createElement(d.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center"}},a.createElement(M.a,{size:"small",sx:{ml:0},"aria-controls":l?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":l?"true":void 0},a.createElement(g.a,{sx:{width:32,height:32}},"M")),a.createElement(x.a,null,"Jalile der")),a.createElement(x.a,null," Message 1 "),a.createElement(x.a,null," 1 min ")),a.createElement(H.a,{key:1,onClick:o,sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"}},a.createElement(d.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center"}},a.createElement(M.a,{size:"small",sx:{ml:0},"aria-controls":l?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":l?"true":void 0},a.createElement(g.a,{sx:{width:32,height:32}},"M")),a.createElement(x.a,null,"Jalile der")),a.createElement(x.a,null," Message 1 "),a.createElement(x.a,null," 1 min ")),a.createElement(H.a,{key:1,onClick:o,sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"}},a.createElement(d.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center"}},a.createElement(M.a,{size:"small",sx:{ml:0},"aria-controls":l?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":l?"true":void 0},a.createElement(g.a,{sx:{width:32,height:32}},"M")),a.createElement(x.a,null,"Jalile der")),a.createElement(x.a,null," Message 1 "),a.createElement(x.a,null," 1 min "))))}var Pe=n(243),We=n.n(Pe),Me=n(531),De=48;function Fe(){var e=a.useState(null),t=Object(i.a)(e,2),n=t[0],r=t[1],l=Boolean(n),o=function(){r(null)};return a.createElement("div",null,a.createElement(M.a,{"aria-label":"more",id:"long-button","aria-controls":l?"long-menu":void 0,"aria-expanded":l?"true":void 0,"aria-haspopup":"true",onClick:function(e){r(e.currentTarget)},color:"inherit"},a.createElement(Ce.a,{badgeContent:17,color:"error"},a.createElement(We.a,null))),a.createElement(Q.a,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:n,open:l,onClose:o,PaperProps:{style:{maxHeight:4.5*De,width:"50ch"}},sx:{display:"flex"}},a.createElement(H.a,{key:1,onClick:o,sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"}},a.createElement(Me.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center"}},a.createElement(M.a,{size:"small",sx:{ml:0},"aria-controls":l?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":l?"true":void 0},a.createElement(g.a,{sx:{width:32,height:32}},"M")),a.createElement(x.a,null,"Jalile der")),a.createElement(x.a,null," Message 1 "),a.createElement(x.a,null," 1 min ")),a.createElement(H.a,{key:1,onClick:o,sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"}},a.createElement(Me.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center"}},a.createElement(M.a,{size:"small",sx:{ml:0},"aria-controls":l?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":l?"true":void 0},a.createElement(g.a,{sx:{width:32,height:32}},"M")),a.createElement(x.a,null,"Jalile der")),a.createElement(x.a,null," Message 1 "),a.createElement(x.a,null," 1 min ")),a.createElement(H.a,{key:1,onClick:o,sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"}},a.createElement(Me.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center"}},a.createElement(M.a,{size:"small",sx:{ml:0},"aria-controls":l?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":l?"true":void 0},a.createElement(g.a,{sx:{width:32,height:32}},"M")),a.createElement(x.a,null,"Jalile der")),a.createElement(x.a,null," Message 1 "),a.createElement(x.a,null," 1 min ")),a.createElement(H.a,{key:1,onClick:o,sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"}},a.createElement(Me.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center"}},a.createElement(M.a,{size:"small",sx:{ml:0},"aria-controls":l?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":l?"true":void 0},a.createElement(g.a,{sx:{width:32,height:32}},"M")),a.createElement(x.a,null,"Jalile der")),a.createElement(x.a,null," Message 1 "),a.createElement(x.a,null," 1 min "))))}var Ge=n(38),ze=n(556),Ae=n(570),Te=n(546),Ne=n(532),Re=n(533),Ue=n(245),Be=n.n(Ue),Je=n(246),Ve=n.n(Je),Ye=n(247),qe=n.n(Ye);function Qe(){return a.createElement(d.a,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"}},a.createElement("nav",{"aria-label":"main mailbox folders"},a.createElement(Ae.a,null,a.createElement(Te.a,{disablePadding:!0},a.createElement(Ne.a,null,a.createElement(ge.a,null,a.createElement(Be.a,null)),a.createElement(Re.a,{primary:"About"}))),a.createElement(Te.a,{disablePadding:!0},a.createElement(Ne.a,null,a.createElement(ge.a,null,a.createElement(Ve.a,null)),a.createElement(Re.a,{primary:"Privacy & Terms"}))),a.createElement(Te.a,{disablePadding:!0},a.createElement(Ne.a,null,a.createElement(ge.a,null,a.createElement(qe.a,null)),a.createElement(Re.a,{primary:"Ad Center"}))),a.createElement(Te.a,{disablePadding:!0},a.createElement(Ne.a,null,a.createElement(ge.a,null,a.createElement(ne.a,null)),a.createElement(Re.a,{primary:"Saved & Favorites"}))))),a.createElement(K.a,null))}var He=n(248),Ke=n.n(He);function Xe(){var e,t=a.useState({left:!1}),n=Object(i.a)(t,2),r=n[0],l=n[1],o=function(e,t){return function(n){("keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&l(Object(Ge.a)({},r,Object(ce.a)({},e,t)))}};return a.createElement(d.a,{sx:{display:{xs:"block ",md:"none"}}},a.createElement(y.a,{color:"inherit",onClick:o("left",!0)},a.createElement(Ke.a,null)),a.createElement(ze.a,{anchor:"left",open:r.left,onClose:o("left",!1)},(e="left",a.createElement(d.a,{sx:{width:"top"===e||"bottom"===e?"auto":250},role:"presentation",onClick:o(e,!1),onKeyDown:o(e,!1)},a.createElement(Qe,null)))))}var Ze=n(568),$e=n(553),et=n(577),tt=n(545),nt=n(541),at=n(249),rt=n.n(at),lt=function(){Object(Ee.n)();var e={searchtext:"",job:"",wilaya:""},t=Object(u.f)({mode:"onChange",defaultValues:e});r.a.useEffect(function(){t.reset(e)},[]);Object(s.useMutation)(function(){return V.a.patch("http://localhost:3000/users/",{headers:{"Content-Type":"application/json",Accept:"*/*"},withCredentials:!0})},{onSuccess:function(e){console.log("mutation succesed"),console.log(e)},onError:function(e){console.log("mutation failed"),console.log(e)}});return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{key:0,component:"form",noValidate:!0,onSubmit:t.handleSubmit(function(e){console.log(e)}),sx:{width:"100%",display:"flex"}},r.a.createElement(u.a,{name:"searchtext",control:t.control,render:function(e){var t=e.field,n=t.onChange,a=t.value;return r.a.createElement(Ze.a,{sx:{m:1,flexGrow:2}},r.a.createElement($e.a,{value:a,onChange:n,startAdornment:r.a.createElement(et.a,{position:"start"},r.a.createElement(M.a,{"aria-label":"toggle password visibility",edge:"start",type:"submit"},r.a.createElement(rt.a,null))),sx:{background:"#fff","& .MuiOutlinedInput-input":{pt:1.7,pb:1.7}},placeholder:"Please enter text"}))}}),r.a.createElement(u.a,{name:"job",control:t.control,render:function(e){var t=e.field,n=t.onChange,a=t.value;return r.a.createElement(Ze.a,{sx:{m:1,flexGrow:1,minWidth:"150px"}},r.a.createElement(tt.a,{id:"demo-simple-select-helper-label"},"job"),r.a.createElement(nt.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:a||"",label:"job",onChange:n,sx:{background:"#fff","& .MuiSelect-select":{pt:1.7,pb:1.7}}},r.a.createElement(H.a,{value:"freelancer"},"freelancer"),r.a.createElement(H.a,{value:"designer"},"designer"),r.a.createElement(H.a,{value:"programmer"},"programmer")))}}),r.a.createElement(u.a,{name:"wilaya",control:t.control,render:function(e){var t=e.field,n=t.onChange,a=t.value;return r.a.createElement(Ze.a,{sx:{m:1,flexGrow:1,minWidth:"150px"}},r.a.createElement(tt.a,{id:"demo-simple-select-helper-label"},"wilaya"),r.a.createElement(nt.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:a||"",label:"wilaya",onChange:n,sx:{background:"#fff","& .MuiSelect-select":{pt:1.7,pb:1.7}}},r.a.createElement(H.a,{value:"freelancer"},"freelancer"),r.a.createElement(H.a,{value:"designer"},"designer"),r.a.createElement(H.a,{value:"programmer"},"programmer")))}})))};var ot=function(){var e=r.a.useState(!0),t=Object(i.a)(e,2);return t[0],t[1],r.a.createElement(se.a,{position:"static",sx:{mb:2}},r.a.createElement(ue.a,null,r.a.createElement(f.a,{container:!0},r.a.createElement(f.a,{item:!0,xs:1,sx:{display:{md:"none"}}},r.a.createElement(Xe,null)),r.a.createElement(f.a,{item:!0,xs:1}),r.a.createElement(f.a,{item:!0,md:9,sx:function(e){return Object(ce.a)({display:"flex",justifyContent:"flex-end"},e.breakpoints.down("md"),{display:"none"})}},r.a.createElement(lt,null)),r.a.createElement(f.a,{item:!0,xs:10,md:2,sx:{display:"flex",justifyContent:"flex-end",alignItems:"center"}},r.a.createElement(r.a.Fragment,null,r.a.createElement(_e,null),r.a.createElement(Fe,null),r.a.createElement(ke,null))))))},it=n(250),ct=n.n(it);function st(){st=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},l=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var l=t&&t.prototype instanceof d?t:d,o=Object.create(l.prototype),i=new k(r||[]);return a(o,"_invoke",{value:y(e,n,i)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var m={};function d(){}function f(){}function p(){}var h={};c(h,l,function(){return this});var E=Object.getPrototypeOf,g=E&&E(E(C([])));g&&g!==t&&n.call(g,l)&&(h=g);var v=p.prototype=d.prototype=Object.create(h);function x(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;a(this,"_invoke",{value:function(a,l){function o(){return new t(function(r,o){!function a(r,l,o,i){var c=u(e[r],e,l);if("throw"!==c.type){var s=c.arg,m=s.value;return m&&"object"==typeof m&&n.call(m,"__await")?t.resolve(m.__await).then(function(e){a("next",e,o,i)},function(e){a("throw",e,o,i)}):t.resolve(m).then(function(e){s.value=e,o(s)},function(e){return a("throw",e,o,i)})}i(c.arg)}(a,l,r,o)})}return r=r?r.then(o,o):o()}})}function y(e,t,n){var a="suspendedStart";return function(r,l){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw l;return S()}for(n.method=r,n.arg=l;;){var o=n.delegate;if(o){var i=w(o,n);if(i){if(i===m)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var c=u(e,t,n);if("normal"===c.type){if(a=n.done?"completed":"suspendedYield",c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(a="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=t.method,a=e.iterator[n];if(void 0===a)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var r=u(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,m;var l=r.arg;return l?l.done?(t[e.resultName]=l.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):l:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function C(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=p,a(v,"constructor",{value:p,configurable:!0}),a(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},x(b.prototype),c(b.prototype,o,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,a,r,l){void 0===l&&(l=Promise);var o=new b(s(t,n,a,r),l);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},x(v),c(v,i,"Generator"),c(v,l,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return o.type="throw",o.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var l=this.tryEntries[r],o=l.completion;if("root"===l.tryLoc)return a("end");if(l.tryLoc<=this.prev){var i=n.call(l,"catchLoc"),c=n.call(l,"finallyLoc");if(i&&c){if(this.prev<l.catchLoc)return a(l.catchLoc,!0);if(this.prev<l.finallyLoc)return a(l.finallyLoc)}else if(i){if(this.prev<l.catchLoc)return a(l.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return a(l.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var l=r;break}}l&&("break"===e||"continue"===e)&&l.tryLoc<=t&&t<=l.finallyLoc&&(l=null);var o=l?l.completion:{};return o.type=e,o.arg=t,l?(this.method="next",this.next=l.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;O(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}var ut=function(){var e=Object(a.useContext)(J),t=e.user,n=(e.setUser,r.a.useState(null)),l=Object(i.a)(n,2),o=l[0],c=l[1];var m=Object(s.useMutation)(function(e){return V.a.post(Y+"/posts",e)},{onSuccess:function(e){console.log(e)},onError:function(e){console.log(e)}}),f=Object(u.f)({mode:"onChange"}),p=f.register,h=(f.formState.errors,f.handleSubmit),E=(f.control,function(e){return new Promise(function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){t(a.result)},a.onerror=function(e){n(e)}})}),g=function(){var e=Object(me.a)(st().mark(function e(n){var a,r;return st().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(n.Photo[0]);case 2:a=e.sent,r={Desc:n.Desc,Photo:a,owner:t._id},m.mutate(r),console.log(r);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{sx:{width:"100%"},component:"form",noValidate:!0,onSubmit:h(g)},r.a.createElement(B.a,Object.assign({id:"outlined-multiline-flexible",label:"Multiline",multiline:!0,maxRows:4,fullWidth:!0},p("Desc"))),r.a.createElement(d.a,{sx:{display:"flex",alignItems:"flex-end"}},r.a.createElement(d.a,{component:"img",sx:{width:"90px"},alt:o?"xxx":"",src:o}),r.a.createElement(y.a,{type:"submit",variant:"contained"},"Save"),r.a.createElement(y.a,{component:"label"},r.a.createElement(ct.a,null),r.a.createElement("input",Object.assign({type:"file"},p("Photo",{onChange:function(e){c(URL.createObjectURL(e.target.files[0]))}}),{hidden:!0}))))))};var mt=function(e){var t=r.a.useState([]),n=Object(i.a)(t,2),a=n[0],l=n[1],o=Object(s.useQuery)("Myprofile",function(){return V.a.get("http://localhost:3000/posts",{withCredentials:!0})},{refetchOnWindowFocus:!1,onSuccess:function(e){l(e.data)},onError:function(e){console.log(e)}}),c=(o.isLoading,o.data,o.isError,o.error,o.refetch,r.a.useState([])),u=Object(i.a)(c,2),p=u[0],h=u[1],E=Object(s.useQuery)("Users",function(){return V.a.get("http://localhost:3000/users/suggested",{withCredentials:!0})},{refetchOnWindowFocus:!1,onSuccess:function(e){h(e.data)},onError:function(e){console.log(e)}});return Object(m.a)(E),r.a.createElement(d.a,{sx:{flexGrow:1}},r.a.createElement(ot,null),r.a.createElement(f.a,{container:!0},r.a.createElement(f.a,{container:!0,item:!0,xs:12,sx:{display:{md:"none"}}},r.a.createElement(lt,null)),r.a.createElement(f.a,{item:!0,sx:{display:{xs:"none",md:"block"}},md:3},r.a.createElement(Qe,null)),r.a.createElement(f.a,{item:!0,xs:12,md:6},r.a.createElement(ut,null),a.map(function(e,t){return r.a.createElement(ie,{key:t,postId:e._id,postPhotos:e.photos,postDescription:e.description,postComments:e.comments,postOwner:e.owner,postLikes:e.likes,postShares:e.shares,postDate:e.date})})),r.a.createElement(f.a,{item:!0,xs:12,md:3},p.map(function(e,t){return r.a.createElement(C,{key:t,user:e})}))))},dt=n(558),ft=n(257),pt=n.n(ft),ht=n(255),Et=n.n(ht),gt=n(252),vt=n.n(gt),xt=n(253),bt=n.n(xt),yt=n(256),wt=n.n(yt),jt=n(254),Ot=n.n(jt),kt=n(251),Ct=n.n(kt),St=n(580),Lt=n(534),It=n(581),_t=n(582),Pt=n(583),Wt=n(543),Mt=n(557),Dt=n(538),Ft=n(584),Gt=n(180),zt=n.n(Gt);function At(e){var t=e.children,n=e.value,r=e.index,l=Object(S.a)(e,["children","value","index"]);return a.createElement("div",Object.assign({role:"tabpanel",hidden:n!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r)},l),n===r&&a.createElement(d.a,{sx:{p:{xs:0,md:3}}},a.createElement(d.a,null,t)))}function Tt(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var Nt=function(e){var t=a.useState({}),n=Object(i.a)(t,2),r=n[0],l=n[1],o=Object(Ee.p)().profileId,c=Object(a.useContext)(J),u=c.user,m=(c.setUser,!1);console.log("user._id",u._id),console.log("profileId",o),u._id==o&&(m=!0),console.log("ismyprofile"+m);var p=Object(s.useQuery)("Myprofile",V.a.get("http://localhost:3000/users/profile",{params:{isMyprofile:m,profileId:o},withCredentials:!0}),{refetchOnWindowFocus:!1,onSuccess:function(e){l(e.data[0]),console.log(e.data[0])},onError:function(e){console.log(e)}});p.isLoading,p.data,p.isError,p.error,p.refetch,console.log(r);var E=a.useState(!1),b=Object(i.a)(E,2),w=b[0],O=b[1],C=function(){O(!1)},S=a.useState(0),L=Object(i.a)(S,2),I=L[0],_=L[1];return Object(je.a)(),a.createElement(a.Fragment,null,a.createElement("div",null,a.createElement(St.a,{open:w,onClose:C},a.createElement(Lt.a,null," Report User"),a.createElement(It.a,null,a.createElement(_t.a,null,"To subscribe to this website, please enter your email address here. We will send updates occasionally."),a.createElement(B.a,{multiline:!0,maxRows:4,rows:4,autoFocus:!0,margin:"dense",id:"name",label:"report",type:"text",fullWidth:!0,variant:"standard"})),a.createElement(Pt.a,null,a.createElement(y.a,{onClick:C},"Cancel"),a.createElement(y.a,{onClick:C},"Report")))),a.createElement(ot,null),a.createElement(d.a,{sx:{p:{xs:1,sm:4}}},a.createElement(f.a,{container:!0,spacing:2},a.createElement(f.a,{item:!0,xs:12,md:4},a.createElement(U.a,{elevation:10,sx:{height:"100%",alignItems:"center",justifyContent:"center",display:"flex",px:1}},a.createElement(d.a,{sx:{display:"flex",flexDirection:"column"}},a.createElement(d.a,{sx:{display:"flex",flexDirection:"row",alignItems:"flex-start",flexGrow:2,pl:1}},a.createElement(d.a,{component:"img",sx:{borderRadius:"50%",maxHeight:90,maxWidth:90,"&:hover, &.Mui-focusVisible":{opacity:.4}},alt:"The house from the offer.",src:r.photo}),a.createElement(d.a,{sx:{display:"flex",flexDirection:"column",pb:1,px:1}},a.createElement(x.a,{variant:"subtitle1"}," ",r.firstname+"  "+r.lastname),a.createElement(x.a,{variant:"subtitle2"},r.job),a.createElement(d.a,{sx:{display:"flex",alignItems:"center",direction:"row"}},a.createElement(x.a,{variant:"subtitle1"},r.rating),a.createElement(Wt.a,{size:"small",name:"size-large",value:r.rating?r.rating:0,readOnly:!0})))),a.createElement(d.a,{sx:{display:"flex",flexDirection:"row",flexWrap:"nowrap",p:2}},a.createElement(y.a,{variant:"contained",size:"small"},a.createElement(k.a,null),a.createElement(x.a,{variant:"subtitle2"}," Message")),a.createElement(y.a,{variant:"contained",size:"small",onClick:function(){O(!0)}},a.createElement(j.a,null),a.createElement(x.a,{variant:"subtitle2"}," Follow")))))),a.createElement(f.a,{item:!0,xs:12,md:8},a.createElement(U.a,{elevation:10,sx:{display:"flex",p:{xs:1,md:2},flexDirection:"column"}},a.createElement(d.a,{sx:{display:"flex",width:"100%",flexWrap:"wrap"}},a.createElement(x.a,{noWrap:!0,variant:"subtitle1",component:"div",sx:{width:"30%",minWidth:"60px"}},"Phone :"),a.createElement(x.a,{noWrap:!0,sx:{width:"70%"},color:"primary",variant:"subtitle1",component:"div"},r.phone)),a.createElement(d.a,{sx:{display:"flex",width:"100%",flexWrap:"wrap"}},a.createElement(x.a,{noWrap:!0,variant:"subtitle1",component:"div",sx:{width:"30%",minWidth:"70px"}},"Address :"),a.createElement(x.a,{noWrap:!0,variant:"subtitle1",component:"div",sx:{width:"70%",fontWeight:"regular"}},r.location&&r.location.wilaya+" "+r.location.daira+" "+r.location.commune),a.createElement(M.a,{onClick:function(){window.open("https://maps.google.com?q="+r.locationMap.longitude+","+r.locationMap.latitude)},color:"primary","aria-label":"add to shopping cart"},a.createElement(Ct.a,null))),a.createElement(d.a,{sx:{display:"flex",width:"100%",flexWrap:"wrap"}},a.createElement(x.a,{noWrap:!0,variant:"subtitle1",component:"div",sx:{width:{xs:"100%",sm:"30%"},minWidth:"55px"}},"Email :"),a.createElement(x.a,{noWrap:!0,color:"primary",variant:"subtitle1",component:"div",sx:{width:{xs:"100%",sm:"70%"},fontWeight:"regular"}},r.email)),a.createElement(d.a,{sx:{display:"flex",width:"100%",flexWrap:"wrap"}},a.createElement(x.a,{noWrap:!0,variant:"subtitle1",component:"div",sx:{width:"30%",fontWeight:"regular"}},"Followers :"),a.createElement(x.a,{noWrap:!0,variant:"subtitle1",component:"div",sx:{width:"70%",fontWeight:"regular"}},r.followers),a.createElement(x.a,{noWrap:!0,variant:"subtitle1",component:"div",sx:{width:"30%",fontWeight:"regular"}},"Following :"),a.createElement(x.a,{noWrap:!0,variant:"subtitle1",component:"div",sx:{width:"70%",fontWeight:"regular"}},r.following)),a.createElement(d.a,null,a.createElement(M.a,{color:"primary","aria-label":"add to shopping cart"},a.createElement(vt.a,null)),a.createElement(M.a,{color:"primary","aria-label":"add to shopping cart"},a.createElement(bt.a,null)),a.createElement(M.a,{color:"primary","aria-label":"add to shopping cart"},a.createElement(Ot.a,null)),a.createElement(M.a,{color:"primary","aria-label":"add to shopping cart"},a.createElement(Et.a,null)),a.createElement(M.a,{color:"primary","aria-label":"add to shopping cart"},a.createElement(wt.a,null)))))),a.createElement(f.a,{container:!0,sx:{pt:2},spacing:2},a.createElement(f.a,{item:!0,xs:12,md:4},a.createElement(U.a,{elevation:10},a.createElement(d.a,{sx:{position:"sticky",top:0}},a.createElement(K.a,{textAlign:"left"},a.createElement(Mt.a,{label:"Work"})),r.project&&r.projects.map(function(e,t){return a.createElement(h.a,{sx:{m:1},key:t},a.createElement(v.a,null,a.createElement(x.a,{variant:"h5",component:"div"},e.name),a.createElement(x.a,{sx:{fontSize:14,position:"sticky"},color:"text.secondary",gutterBottom:!0},e.date),a.createElement(x.a,{variant:"body2"},e.description,a.createElement("br",null),e.description)),a.createElement(P.a,null,a.createElement(y.a,{size:"small"}," ",a.createElement(fe.a,{href:e.link}," Learn More"))))}),a.createElement(K.a,{textAlign:"left"},a.createElement(Mt.a,{label:"Skils"})),a.createElement(d.a,{sx:{p:1.5}},r.skills&&r.skills.map(function(e,t){return a.createElement(Mt.a,{color:"primary",label:e,key:t})}))))),a.createElement(f.a,{item:!0,xs:12,md:8},a.createElement(U.a,{elevation:10},a.createElement(d.a,{sx:{borderBottom:1,borderColor:"divider",position:"sticky",top:0,bgcolor:"#FFFFFF",zIndex:1}},a.createElement(Dt.a,{variant:"scrollable",scrollButtons:!0,allowScrollButtonsMobile:!0,value:I,onChange:function(e,t){_(t)},"aria-label":"basic tabs example"},a.createElement(Ft.a,Object.assign({label:"Time Line",iconPosition:"start",icon:a.createElement(pt.a,{fontSize:"small"})},Tt(0))),a.createElement(Ft.a,Object.assign({icon:a.createElement(zt.a,{fontSize:"small"}),iconPosition:"start",label:"Appointments"},Tt(1))),a.createElement(Ft.a,Object.assign({icon:a.createElement(zt.a,{fontSize:"small"}),iconPosition:"start",label:"Reviews"},Tt(2))))),a.createElement(At,{value:I,index:0},r.posts&&r.posts.map(function(e,t){return a.createElement(ie,{key:t,postId:e._id,postPhotos:e.photos,postDescription:e.description,postComments:e.comments,postOwner:e.owner,postLikes:e.likes,postShares:e.shares,postDate:e.date})})),a.createElement(At,{value:I,index:1},r.appointments&&r.appointments.map(function(e,t){return a.createElement(U.a,{key:t,sx:{p:2,mb:1},elevation:10},a.createElement(d.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center"}},a.createElement(g.a,{alt:"Cindy Baker",src:""}),a.createElement(x.a,null," ",e.user1," "),a.createElement(x.a,null," ",e.user2," ")),a.createElement(x.a,null," ",e.date," ","  ",e.time),a.createElement(x.a,null," ",e.location))})),a.createElement(At,{classes:{"& .css-19kzrtu":{p:0}},sx:{m:5},value:I,index:2},a.createElement(d.a,{sx:{display:"flex",flexDirection:"column",width:"100%",mb:1.5}},r.reviews&&r.reviews.map(function(e,t){return a.createElement(U.a,{key:t,sx:{p:1,m:1},elevation:10},a.createElement(d.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center"}},a.createElement(g.a,{alt:"Cindy Baker",src:""}),a.createElement(x.a,null," ",e.sender," ")),a.createElement(Wt.a,{name:"size-large",value:e.rating?e.rating:0}),a.createElement(x.a,null," ",e.message," "))}))))))))};function Rt(e){var t=e.profileId,n=a.useState(!1),r=Object(i.a)(n,2),l=r[0],o=r[1],c=function(){o(!1)},m=Object(s.useMutation)(function(e){return V.a.patch("http://localhost:3000/users/addproject/"+t,e,{headers:{"Content-Type":"application/json",Accept:"*/*"},withCredentials:!0})},{onSuccess:function(e){console.log("mutation succesed"),console.log(e.data),console.log(e)},onError:function(e){console.log("mutation failed"),console.log(e)}}),f=Object(u.f)({mode:"onChange"});return a.createElement("div",null,a.createElement(d.a,null,a.createElement(y.a,{variant:"outlined",onClick:function(){o(!0)}},"Add Project"," "),a.createElement(St.a,{open:l,onClose:c},a.createElement(Lt.a,null,"Subscribe"),a.createElement(It.a,null,a.createElement(_t.a,null,"To subscribe to this website, please enter your email address here. We will send updates occasionally."),a.createElement(u.a,{name:"name",control:f.control,render:function(e){var t=e.field,n=t.onChange,r=t.value;return a.createElement(B.a,{autoFocus:!0,margin:"dense",id:"name",label:"name",type:"text",fullWidth:!0,variant:"standard",onChange:n,value:r||""})}}),a.createElement(u.a,{name:"date",control:f.control,render:function(e){var t=e.field,n=t.onChange,r=t.value;return a.createElement(B.a,{autoFocus:!0,margin:"dense",id:"date",label:"name",type:"date",fullWidth:!0,variant:"standard",onChange:n,value:r||""})}}),a.createElement(u.a,{name:"description",control:f.control,render:function(e){var t=e.field,n=t.onChange,r=t.value;return a.createElement(B.a,{autoFocus:!0,margin:"dense",id:"description",label:"description",type:"text",fullWidth:!0,variant:"standard",onChange:n,value:r||""})}}),a.createElement(u.a,{name:"link",control:f.control,render:function(e){var t=e.field,n=t.onChange,r=t.value;return a.createElement(B.a,{autoFocus:!0,margin:"dense",id:"link",label:"link",type:"text",fullWidth:!0,variant:"standard",onChange:n,value:r||""})}})),a.createElement(Pt.a,null,a.createElement(y.a,{onClick:c},"Cancel"),a.createElement(y.a,{type:"submit",onClick:f.handleSubmit(function(e){console.log(e);try{m.mutate(e)}catch(t){console.log(t)}})},"Add Project")))))}var Ut={PaperProps:{style:{maxHeight:224,width:250}}};function Bt(e,t,n){return{fontWeight:-1===t.indexOf(e)?n.typography.fontWeightRegular:n.typography.fontWeightMedium}}function Jt(e){var t=e.skills,n=Object(u.g)(),r=(n.register,n.control),l=Object(je.a)(),o=a.useState([]),c=Object(i.a)(o,2),s=c[0];c[1];return a.createElement(d.a,{sx:{width:"100%"}},a.createElement(u.a,{name:"skills",control:r,render:function(e){var n=e.field,r=n.onChange,o=n.value;return a.createElement(Ze.a,{sx:{m:1,width:"95%",minWidth:"120px"}},a.createElement(tt.a,{id:"demo-multiple-chip-label"},"Chip"),a.createElement(nt.a,{labelId:"demo-multiple-chip-label",id:"demo-multiple-chip",multiple:!0,value:o,onChange:r,input:a.createElement($e.a,{id:"select-multiple-chip",label:"Chip"}),renderValue:function(e){return a.createElement(d.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5}},e.map(function(e){return a.createElement(Mt.a,{key:e,label:e})}))},MenuProps:Ut},t.map(function(e){return a.createElement(H.a,{key:e,value:e,style:Bt(e,s,l)},e)})))}}))}var Vt=n(173);function Yt(e){var t=e.children,n=e.value,r=e.index,l=Object(S.a)(e,["children","value","index"]);return a.createElement("div",Object.assign({role:"tabpanel",hidden:n!==r,id:"vertical-tabpanel-".concat(r),"aria-labelledby":"vertical-tab-".concat(r)},l),n===r&&a.createElement(d.a,{sx:{p:{xs:0,md:3}}},a.createElement(d.a,null,t)))}function qt(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}}function Qt(e){var t=e.profile;console.log(t),console.log(t.location&&t.location.wilaya);var n=Object(je.a)(),r=Object(Oe.a)(n.breakpoints.up("sm")),l=a.useState(0),o=Object(i.a)(l,2),c=o[0],m=o[1],p=a.useState(),E=Object(i.a)(p,2),b=E[0],w=E[1];var j={firstname:t.firstname,lastname:t.lastname,phone:t.phone,email:t.email,facebook:t.facebook,youtube:t.youtube,instagram:t.instagram,website:t.website,linkedin:t.linkedin,wilaya:t.location&&t.location.wilaya,daira:t.location&&t.location.daira,commune:t.location&&t.location.commune,language:t.language,skills:t.skills},O=Object(u.f)({mode:"onChange",defaultValues:j});a.useEffect(function(){O.reset(j)},[t]);var k=Object(s.useMutation)(function(e){return V.a.patch("http://localhost:3000/users/"+t._id,e,{headers:{"Content-Type":"application/json",Accept:"*/*"},withCredentials:!0})},{onSuccess:function(e){console.log("mutation succesed"),console.log(e.data),console.log(e)},onError:function(e){console.log("mutation failed"),console.log(e.data)}});return a.createElement(d.a,{sx:{flexGrow:1,bgcolor:"background.paper",display:"flex"}},a.createElement(f.a,{container:!0},a.createElement(f.a,{item:!0,xs:12,sm:2},a.createElement(Dt.a,{orientation:r?"vertical":"horizontal",variant:r?"standard":"scrollable",scrollButtons:!r,allowScrollButtonsMobile:!r,value:c,onChange:function(e,t){m(t)},"aria-label":"Vertical tabs example",sx:{borderRight:1,borderColor:"divider"}},a.createElement(Ft.a,Object.assign({onClick:function(){return Ee.a},label:"Public Profile"},qt(0))),a.createElement(Ft.a,Object.assign({label:"Account management"},qt(1))),a.createElement(Ft.a,Object.assign({label:"Sociale Media"},qt(2))),a.createElement(Ft.a,Object.assign({label:"Projects & Skills"},qt(3))))),a.createElement(f.a,{item:!0,xs:12,sm:10,md:6},a.createElement(u.b,O,a.createElement(d.a,{key:0,component:"form",noValidate:!0,onSubmit:O.handleSubmit(function(e){console.log(e);try{k.mutate(e)}catch(t){console.log(t)}}),sx:{mt:3}},a.createElement(Yt,{value:c,index:0},a.createElement(d.a,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative"}},a.createElement(g.a,{alt:"Remy Sharp",src:b||"https://www.nicepng.com/png/detail/933-9332131_profile-picture-default-png.png",sx:{width:56,height:56}}),a.createElement(y.a,{component:"label",sx:{borderRadius:"50%"}},"Change",a.createElement("input",{type:"file",hidden:!0,onChange:function(e){console.log(e.target.files),w(URL.createObjectURL(e.target.files[0]))}}))),a.createElement(d.a,{sx:{display:"flex",p:1}},a.createElement(u.a,{name:"firstname",control:O.control,render:function(e){var t=e.field,n=t.onChange,r=t.value;return a.createElement(B.a,{onChange:n,value:r||"",label:"firstname",id:"firstname",variant:"outlined",sx:{flexGrow:1,mr:1}})}}),a.createElement(u.a,{name:"lastname",control:O.control,render:function(e){var t=e.field,n=t.onChange,r=t.value;return a.createElement(B.a,{onChange:n,value:r||"",label:"lastname",id:"lastname",variant:"outlined",sx:{flexGrow:1,mr:1}})}})),a.createElement(d.a,{sx:{display:"flex",p:1}},a.createElement(u.a,{name:"phone",control:O.control,render:function(e){var t=e.field,n=t.onChange,r=t.value;t.isTouched;return a.createElement(B.a,{onChange:n,value:r||"",label:"phone",id:"phone",variant:"outlined",sx:{flexGrow:1,mr:1}})}}),a.createElement(u.a,{name:"language",control:O.control,render:function(e){var t=e.field,n=t.onChange,r=t.value;t.isTouched;return a.createElement(Ze.a,{sx:{flexGrow:1,m:1}},a.createElement(tt.a,{id:"demo-simple-select-helper-label"},"Language"),a.createElement(nt.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:r||"",label:"Language",onChange:n,sx:{minWidth:"110px"}},a.createElement(H.a,{value:"Francais"},"Francais"),a.createElement(H.a,{value:"English"},"English"),a.createElement(H.a,{value:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"},"\u0627\u0644\u0639\u0631\u0628\u064a\u0629")))}})),a.createElement(d.a,{sx:{display:"flex",p:1,flexWrap:"wrap"}},a.createElement(u.a,{name:"wilaya",control:O.control,render:function(e){var t=e.field,n=t.onChange,r=t.value;t.isTouched;return a.createElement(Ze.a,{sx:{flexGrow:1,m:1}},a.createElement(tt.a,{id:"demo-simple-select-helper-label"},"wilaya"),a.createElement(nt.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:r||"",label:"wilaya",onChange:n,sx:{minWidth:"110px"}},a.createElement(H.a,{value:"naama"},"naama"),a.createElement(H.a,{value:"alger"},"alger"),a.createElement(H.a,{value:"oran"},"oran")))}}),a.createElement(u.a,{name:"daira",control:O.control,render:function(e){var t=e.field,n=t.onChange,r=t.value;t.isTouched;return a.createElement(Ze.a,{sx:{flexGrow:1,m:1}},a.createElement(tt.a,{id:"demo-simple-select-helper-label"},"daira"),a.createElement(nt.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:r||"",label:"daira",onChange:n,sx:{minWidth:"110px"}},a.createElement(H.a,{value:"naama"},"naama"),a.createElement(H.a,{value:"alger"},"alger"),a.createElement(H.a,{value:"oran"},"oran")))}}),a.createElement(u.a,{name:"commune",control:O.control,render:function(e){var t=e.field,n=t.onChange,r=t.value;t.isTouched;return a.createElement(Ze.a,{sx:{flexGrow:1,m:1}},a.createElement(tt.a,{id:"demo-simple-select-helper-label"},"commune"),a.createElement(nt.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:r||"",label:"commune",onChange:n,sx:{minWidth:"110px"}},a.createElement(H.a,{value:"naama"},"naama"),a.createElement(H.a,{value:"alger"},"alger"),a.createElement(H.a,{value:"oran"},"oran")))}})),a.createElement(d.a,{sx:{p:1}},a.createElement(u.a,{name:"email",control:O.control,render:function(e){var t=e.field,n=t.onChange,r=t.value;return a.createElement(B.a,{onChange:n,value:r||"",label:"email",id:"email",variant:"outlined",sx:{flexGrow:1,mr:1}})}}))),a.createElement(Yt,{value:c,index:1},a.createElement(d.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",p:1,flexWrap:"wrap"}},a.createElement(x.a,{sx:{flexGrow:2}}," ","Convert Account"," "),a.createElement(u.a,{name:"type",control:O.control,render:function(e){var t=e.field,n=t.onChange,r=t.value;t.isTouched;return a.createElement(Ze.a,{sx:{flexGrow:1,m:1}},a.createElement(tt.a,{id:"demo-simple-select-helper-label"},"profile type"),a.createElement(nt.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:r,label:"type",onChange:n,sx:{minWidth:"110px"}},a.createElement(H.a,{value:"client"},"client"),a.createElement(H.a,{value:"worker"},"worker")))}})),a.createElement(d.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",p:1,flexWrap:"wrap"}},a.createElement(x.a,{sx:{flexGrow:2}},"Change Password"),a.createElement(y.a,{sx:{},variant:"contained",color:"error"},"Change Password")),a.createElement(d.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",p:1,flexWrap:"wrap"}},a.createElement(x.a,{sx:{flexGrow:2}},"Deactivate Accounte"),a.createElement(y.a,{sx:{},variant:"contained",color:"error",size:"medium"},"Deactivate Account")),a.createElement(d.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",p:1,flexWrap:"wrap"}},a.createElement(x.a,{sx:{flexGrow:2}}," Delete Account "),a.createElement(y.a,{sx:{},variant:"contained",color:"error",size:"medium"},"Delete Account"))),a.createElement(Yt,{value:c,index:2},a.createElement(d.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",p:.5,flexWrap:"wrap"}},a.createElement(x.a,{sx:{flexGrow:1}},"Facebook"),a.createElement(u.a,{name:"facebook",control:O.control,render:function(e){var t=e.field,n=t.onChange,r=t.value;return a.createElement(B.a,{onChange:n,value:r||"",label:"facebook",id:"facebook",variant:"outlined",sx:{flexGrow:1,mr:1}})}})),a.createElement(d.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",p:.5,flexWrap:"wrap"}},a.createElement(x.a,{sx:{flexGrow:1}},"Youtube"),a.createElement(u.a,{name:"youtube",control:O.control,render:function(e){var t=e.field,n=t.onChange,r=t.value;return a.createElement(B.a,{onChange:n,value:r||"",label:"youtube",id:"youtube",variant:"outlined",sx:{flexGrow:1,mr:1}})}})),a.createElement(d.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",p:.5,flexWrap:"wrap"}},a.createElement(x.a,{sx:{flexGrow:1}}," Linkedin"),a.createElement(u.a,{name:"linkedin",control:O.control,render:function(e){var t=e.field,n=t.onChange,r=t.value;return a.createElement(B.a,{onChange:n,value:r||"",label:"linkedin",id:"linkedin",variant:"outlined",sx:{flexGrow:1,mr:1}})}})),a.createElement(d.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",p:.5,flexWrap:"wrap"}},a.createElement(x.a,{sx:{flexGrow:1}}," Instagram "),a.createElement(u.a,{name:"instagram",control:O.control,render:function(e){var t=e.field,n=t.onChange,r=t.value;return a.createElement(B.a,{onChange:n,value:r||"",label:"instagram",id:"instagram",variant:"outlined",sx:{flexGrow:1,mr:1}})}})),a.createElement(d.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",p:.5,flexWrap:"wrap"}},a.createElement(x.a,{sx:{flexGrow:1}}," Website "),a.createElement(u.a,{name:"website",control:O.control,render:function(e){var t=e.field,n=t.onChange,r=t.value;return a.createElement(B.a,{onChange:n,value:r||"",label:"website",id:"website",variant:"outlined",sx:{flexGrow:1,mr:1}})}}))),a.createElement(Yt,{value:c,index:3},a.createElement(U.a,{elevation:3},a.createElement(d.a,{sx:{m:1,display:"flex",flexDirection:"row",alignItems:"center",flexWrap:"wrap"}},"Skills",a.createElement(Jt,{skills:t.skills}))),a.createElement(U.a,{sx:{},elevation:3},a.createElement(d.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"sticky",top:0,width:"100%"}},console.log(t.skills),a.createElement(K.a,{textaligns:"left"}),a.createElement(h.a,{sx:{m:1}},a.createElement(Rt,{profileId:t._id})),t.projects&&t.projects.map(function(e,t){return a.createElement(h.a,{sx:{m:1},key:t},a.createElement(v.a,null,a.createElement(x.a,{variant:"h5",component:"div"},e.name),a.createElement(x.a,{sx:{fontSize:14,position:"sticky"},color:"text.secondary",gutterBottom:!0},e.date),a.createElement(x.a,{variant:"body2"},e.description,a.createElement("br",null),e.description)),a.createElement(P.a,null,a.createElement(y.a,{size:"small"}," ",a.createElement(fe.a,{href:e.link}," Learn More"))))})))),a.createElement(y.a,{sx:{position:"fixed",right:40,bottom:40},type:"submit",variant:"contained",color:"success"},"Save"))))),a.createElement(Vt.DevTool,{control:O.control}))}var Ht=function(){var e=a.useState({}),t=Object(i.a)(e,2),n=t[0],r=t[1],l=Object(s.useQuery)("Myprofile",function(){return V.a.get("http://localhost:3000/users/Myprofile",{withCredentials:!0})},{refetchOnWindowFocus:!1,onSuccess:function(e){r(e.data[0])},onError:function(e){console.log(e)}});return l.isLoading,l.data,l.isError,l.error,l.refetch,console.log(n),a.createElement(a.Fragment,null,a.createElement(ot,null),a.createElement(Qt,{profile:n}))},Kt=n(456),Xt=n(560),Zt=Object(Kt.a)({components:{MuiLink:{defaultProps:{underline:"none",color:"#000"}}},palette:{}}),$t=Zt=Object(Xt.a)(Zt);var en=function(){var e=function(){var e={loggedIn:!0};return e&&e.loggedIn}();return r.a.createElement(r.a.Fragment,null,e?r.a.createElement(Ee.b,null):r.a.createElement(Ee.a,{to:"/"}))},tn=n(176),nn=function(e){var t=e.contacts,n=e.changeChat,a=e.setOpen,l=e.setIsActivechatinput,o=r.a.useState(!0),c=Object(i.a)(o,2),s=c[0],u=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{sx:{width:"350px",position:"fixed",flexDirection:"column",right:15,bottom:0,zIndex:2,display:"flex"}},r.a.createElement(d.a,{onClick:function(){u(function(e){return!e})},sx:{display:"flex",direction:"row",justifyContent:"space-between",alignItems:"center",p:1,height:"40px",backgroundColor:"primary.dark"}},r.a.createElement(x.a,{variant:"subtitle1"},"Messages")),r.a.createElement(d.a,{sx:{flexDirection:"column",display:s?"flex":"none",background:"#fff",height:"500px",zIndex:2}},t.users&&t.users.map(function(e,t){return r.a.createElement(d.a,{key:t,sx:{pl:2,pt:2,display:"flex",direction:"row",alignItems:"center",justifyContent:"flex-start"},onClick:function(){n(e),a(!0),l(!0)}},r.a.createElement(g.a,{alt:"Remy Sharp",src:"/static/images/avatar/1.jpg",sx:{mr:.5}}),r.a.createElement(x.a,{variant:"subtitle1"},e.firstname+" "+e.lastname))}))))},an=n(13),rn=n(259),ln=n.n(rn),on=n(260),cn=n.n(on),sn=n(161),un=n.n(sn),mn=n(175),dn=n.n(mn),fn=(n(423),n(169)),pn=n.n(fn),hn=n(174),En=n.n(hn);var gn=function(e){var t=e.user,n=e.socket,l=e.currentChat;console.log(" this is vid "),console.log(t._id),console.log(n),console.log(l._id);var o=Object(a.useState)(""),c=Object(i.a)(o,2),s=c[0],u=c[1],m=Object(a.useState)(),f=Object(i.a)(m,2),p=f[0],h=f[1],E=Object(a.useState)(!1),g=Object(i.a)(E,2),v=g[0],x=g[1],b=Object(a.useState)(""),w=Object(i.a)(b,2),j=w[0],O=w[1],k=Object(a.useState)(),C=Object(i.a)(k,2),S=C[0],L=C[1],I=Object(a.useState)(!1),_=Object(i.a)(I,2),P=_[0],W=_[1],D=Object(a.useState)(""),F=Object(i.a)(D,2),G=(F[0],F[1],Object(a.useState)(!1)),z=Object(i.a)(G,2),A=z[0],T=z[1],N=Object(a.useState)(""),R=Object(i.a)(N,2),U=R[0],B=R[1],J=Object(a.useRef)(),V=Object(a.useRef)(),Y=Object(a.useRef)();return Object(a.useEffect)(function(){navigator.mediaDevices&&navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(function(e){h(e),J.current.srcObject=e}),u(t._id),n.current.on("callUser",function(e){x(!0),O(e.from),B(e.name),L(e.signal)})},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"video-container"},r.a.createElement("div",{className:"video"},r.a.createElement("video",{playsInline:!0,muted:!0,ref:J,autoPlay:!0,style:{width:"300px"}})),r.a.createElement("div",{className:"video"},P&&!A?r.a.createElement("video",{playsInline:!0,ref:V,autoPlay:!0,style:{width:"300px"}}):null)),r.a.createElement("div",{className:"myId"},r.a.createElement("div",{className:"call-button"},r.a.createElement(d.a,{sx:{position:"fixed",right:"45%",bottom:"10%"}},P&&!A?r.a.createElement(M.a,{color:"error",onClick:function(){T(!0),Y.current.destroy()}},r.a.createElement(En.a,{fontSize:"large"})):r.a.createElement(M.a,{color:"primary","aria-label":"call",onClick:function(){return function(e){var t=new pn.a({initiator:!0,trickle:!1,stream:p});t.on("signal",function(t){console.log("call user "),n.current.emit("callUser",{userToCall:e,signalData:t,from:s,name:U})}),t.on("stream",function(e){V.current.srcObject=e}),n.current.on("callAccepted",function(e){W(!0),t.signal(e)}),Y.current=t}(l._id)}},r.a.createElement(un.a,{fontSize:"large"}))))),r.a.createElement("div",null,v&&!P?r.a.createElement("div",{className:"caller"},r.a.createElement("h1",null,U," is calling..."),r.a.createElement(y.a,{variant:"contained",color:"primary",onClick:function(){W(!0);var e=new pn.a({initiator:!1,trickle:!1,stream:p});e.on("signal",function(e){n.current.emit("answerCall",{signal:e,to:j})}),e.on("stream",function(e){V.current.srcObject=e}),e.signal(S),Y.current=e}},"Answer")):null)))};function vn(e){var t=e.currentChat,n=e.user,r=e.socket,l=a.useState(!1),o=Object(i.a)(l,2),c=o[0],s=o[1],u=function(){return s(!0)};return a.createElement("div",null,a.createElement(M.a,{sx:{p:.5},onClick:u},a.createElement(un.a,null)),a.createElement(M.a,{sx:{p:.5},onClick:u},a.createElement(dn.a,null)),a.createElement(de.a,{open:c,onClose:function(){return s(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",sx:{display:"flex",justifyContent:"center"}},a.createElement(d.a,{sx:{background:"#fff",height:"100%",width:"70%"}},c?a.createElement(gn,{currentChat:t,user:n,socket:r}):"")))}var xn=n(263),bn=n.n(xn),yn=n(261),wn=n.n(yn),jn=n(262),On=n.n(jn);function kn(){kn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},l=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var l=t&&t.prototype instanceof d?t:d,o=Object.create(l.prototype),i=new k(r||[]);return a(o,"_invoke",{value:y(e,n,i)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var m={};function d(){}function f(){}function p(){}var h={};c(h,l,function(){return this});var E=Object.getPrototypeOf,g=E&&E(E(C([])));g&&g!==t&&n.call(g,l)&&(h=g);var v=p.prototype=d.prototype=Object.create(h);function x(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;a(this,"_invoke",{value:function(a,l){function o(){return new t(function(r,o){!function a(r,l,o,i){var c=u(e[r],e,l);if("throw"!==c.type){var s=c.arg,m=s.value;return m&&"object"==typeof m&&n.call(m,"__await")?t.resolve(m.__await).then(function(e){a("next",e,o,i)},function(e){a("throw",e,o,i)}):t.resolve(m).then(function(e){s.value=e,o(s)},function(e){return a("throw",e,o,i)})}i(c.arg)}(a,l,r,o)})}return r=r?r.then(o,o):o()}})}function y(e,t,n){var a="suspendedStart";return function(r,l){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw l;return S()}for(n.method=r,n.arg=l;;){var o=n.delegate;if(o){var i=w(o,n);if(i){if(i===m)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var c=u(e,t,n);if("normal"===c.type){if(a=n.done?"completed":"suspendedYield",c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(a="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=t.method,a=e.iterator[n];if(void 0===a)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var r=u(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,m;var l=r.arg;return l?l.done?(t[e.resultName]=l.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):l:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function C(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=p,a(v,"constructor",{value:p,configurable:!0}),a(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},x(b.prototype),c(b.prototype,o,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,a,r,l){void 0===l&&(l=Promise);var o=new b(s(t,n,a,r),l);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},x(v),c(v,i,"Generator"),c(v,l,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return o.type="throw",o.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var l=this.tryEntries[r],o=l.completion;if("root"===l.tryLoc)return a("end");if(l.tryLoc<=this.prev){var i=n.call(l,"catchLoc"),c=n.call(l,"finallyLoc");if(i&&c){if(this.prev<l.catchLoc)return a(l.catchLoc,!0);if(this.prev<l.finallyLoc)return a(l.finallyLoc)}else if(i){if(this.prev<l.catchLoc)return a(l.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return a(l.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var l=r;break}}l&&("break"===e||"continue"===e)&&l.tryLoc<=t&&t<=l.finallyLoc&&(l=null);var o=l?l.completion:{};return o.type=e,o.arg=t,l?(this.method="next",this.next=l.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;O(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}var Cn=function(e){var t=e.currentChat,n=e.socket,l=(e.setOpen,e.isOpen),o=e.handleClickOpen,c=e.isActive,s=(e.setIsActive,e.handleClick),u=Object(a.useContext)(J),m=u.user;u.setUser;console.log(m);var d=r.a.useState(""),f=Object(i.a)(d,2),p=f[0],h=f[1],E=r.a.useState([]),v=Object(i.a)(E,2),b=v[0],y=v[1],w=r.a.useRef(),j=r.a.useState(null),O=Object(i.a)(j,2),k=O[0],C=O[1];r.a.useEffect(function(){!function(){var e=Object(me.a)(kn().mark(function e(){var n,a;return kn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=m._id,e.next=3,V.a.post(Y+"/messages/getmsg",{from:n,to:t._id});case 3:a=e.sent,y(a.data);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[t]);var S=function(){var e=Object(me.a)(kn().mark(function e(a){var r,l;return kn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=m._id,console.log(n.current),n.current.emit("send-msg",{to:t._id,from:r,msg:a}),e.next=5,V.a.post(Y+"/messages/addmsg",{to:t._id,from:r,message:a});case 5:(l=Object(an.a)(b)).push({fromSelf:!0,message:a}),y(l);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.useEffect(function(){k&&y(function(e){return[].concat(Object(an.a)(e),[k])})},[k]),r.a.useEffect(function(){w.current&&w.current.scrollIntoView({behavior:"smooth"})},[b]),n.current&&n.current.on("msg-recieve",function(e){C({fromSelf:!1,message:e})}),r.a.createElement(r.a.Fragment,null,r.a.createElement(Me.a,{sx:{width:"362px",position:"fixed",right:"385px",bottom:0,zIndex:2,display:l?"block":"none"}},r.a.createElement(Me.a,{onClick:s,sx:{display:"flex",direction:"row",justifyContent:"space-between",p:1,height:"40px",backgroundColor:"primary.dark"}},r.a.createElement(Me.a,{sx:{display:"flex",direction:"row",alignItems:"center"}},r.a.createElement(g.a,{alt:t.firstname&&t.firstname.charAt(0),src:t.photo,sx:{mr:.5}}),r.a.createElement(x.a,{variant:"subtitle1"},t.firstname+" "+t.lastname," ")),r.a.createElement(Me.a,{sx:{display:"flex",direction:"row",alignItems:"center"}},r.a.createElement(vn,{socket:n,user:m,currentChat:t}),r.a.createElement(M.a,{sx:{p:.5}},r.a.createElement(ln.a,null)),r.a.createElement(M.a,{sx:{p:.5},onClick:o},r.a.createElement(cn.a,null)))),r.a.createElement(Me.a,{sx:{height:"400px",width:"100%",display:c?"block":"none",mb:c?2:0}},r.a.createElement(Me.a,{sx:{height:"360px",width:"100%",background:"#fff",overflow:"hidden",overflowY:"scroll"}},b.map(function(e,t){return r.a.createElement("div",{key:t,ref:w,style:{display:"flex",justifyContent:e.fromSelf?"flex-end":"flex-start",padding:"10px"}},r.a.createElement("div",{style:{background:e.fromSelf?"#dcf8c6":"#fff",padding:"10px",borderRadius:"10px",maxWidth:"60%"}},r.a.createElement("span",null,e.message)))})),r.a.createElement(Me.a,{sx:{height:"100%",background:"#fff"}},r.a.createElement(M.a,{"aria-label":"delete"},r.a.createElement(wn.a,null)),r.a.createElement(M.a,{"aria-label":"delete"},r.a.createElement(On.a,null)),r.a.createElement(B.a,{id:"outlined-basic",label:"Outlined",variant:"outlined",onChange:function(e){return h(e.target.value)},value:p}),r.a.createElement(M.a,{"aria-label":"delete",onClick:function(e){return function(e){e.preventDefault(),p.length>0&&(S(p),h(""))}(e)}},r.a.createElement(bn.a,null))))))};function Sn(){Sn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},l=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var l=t&&t.prototype instanceof d?t:d,o=Object.create(l.prototype),i=new k(r||[]);return a(o,"_invoke",{value:y(e,n,i)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var m={};function d(){}function f(){}function p(){}var h={};c(h,l,function(){return this});var E=Object.getPrototypeOf,g=E&&E(E(C([])));g&&g!==t&&n.call(g,l)&&(h=g);var v=p.prototype=d.prototype=Object.create(h);function x(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;a(this,"_invoke",{value:function(a,l){function o(){return new t(function(r,o){!function a(r,l,o,i){var c=u(e[r],e,l);if("throw"!==c.type){var s=c.arg,m=s.value;return m&&"object"==typeof m&&n.call(m,"__await")?t.resolve(m.__await).then(function(e){a("next",e,o,i)},function(e){a("throw",e,o,i)}):t.resolve(m).then(function(e){s.value=e,o(s)},function(e){return a("throw",e,o,i)})}i(c.arg)}(a,l,r,o)})}return r=r?r.then(o,o):o()}})}function y(e,t,n){var a="suspendedStart";return function(r,l){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw l;return S()}for(n.method=r,n.arg=l;;){var o=n.delegate;if(o){var i=w(o,n);if(i){if(i===m)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var c=u(e,t,n);if("normal"===c.type){if(a=n.done?"completed":"suspendedYield",c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(a="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=t.method,a=e.iterator[n];if(void 0===a)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var r=u(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,m;var l=r.arg;return l?l.done?(t[e.resultName]=l.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):l:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function C(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=p,a(v,"constructor",{value:p,configurable:!0}),a(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},x(b.prototype),c(b.prototype,o,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,a,r,l){void 0===l&&(l=Promise);var o=new b(s(t,n,a,r),l);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},x(v),c(v,i,"Generator"),c(v,l,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return o.type="throw",o.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var l=this.tryEntries[r],o=l.completion;if("root"===l.tryLoc)return a("end");if(l.tryLoc<=this.prev){var i=n.call(l,"catchLoc"),c=n.call(l,"finallyLoc");if(i&&c){if(this.prev<l.catchLoc)return a(l.catchLoc,!0);if(this.prev<l.finallyLoc)return a(l.finallyLoc)}else if(i){if(this.prev<l.catchLoc)return a(l.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return a(l.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var l=r;break}}l&&("break"===e||"continue"===e)&&l.tryLoc<=t&&t<=l.finallyLoc&&(l=null);var o=l?l.completion:{};return o.type=e,o.arg=t,l?(this.method="next",this.next=l.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;O(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function Ln(){var e=a.useRef(),t=a.useState({_id:"",firstname:"",lastname:"",photo:""}),n=Object(i.a)(t,2),r=n[0],l=n[1],o=a.useState(void 0),c=Object(i.a)(o,2),s=c[0],u=c[1],m=a.useState([]),d=Object(i.a)(m,2),f=d[0],p=d[1];a.useEffect(function(){(function(){var e=Object(me.a)(Sn().mark(function e(){return Sn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem("user")){e.next=3;break}e.next=8;break;case 3:return e.t0=u,e.next=6,JSON.parse(localStorage.getItem("user"));case 6:e.t1=e.sent,(0,e.t0)(e.t1);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()()},[]),a.useEffect(function(){s&&(e.current=Object(tn.a)(Y),e.current.emit("add-user",s._id))},[s]),a.useEffect(function(){function e(){return(e=Object(me.a)(Sn().mark(function e(){var t;return Sn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=5;break}return e.next=3,V.a.get(Y+"/users/"+s._id);case 3:t=e.sent,p(t.data);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[s]);var h=a.useState(!1),E=Object(i.a)(h,2),g=E[0],v=E[1],x=a.useState(!0),b=Object(i.a)(x,2),y=b[0],w=b[1];return a.createElement(a.Fragment,null,a.createElement(Cn,{currentChat:r,socket:e,handleClickOpen:function(){v(function(e){return!e})},isOpen:g,setOpen:v,isActive:y,setIsActive:w,handleClick:function(){w(function(e){return!e})}}),a.createElement(nn,{contacts:f,changeChat:function(e){l(e)},setOpen:v,setIsActivechatinput:w}))}var In=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ot,null),r.a.createElement(Me.a,{sx:{display:"flex",justifyContent:"center",flexDirection:"row",flexWrap:"wrap"}},r.a.createElement(b,null),r.a.createElement(b,null),r.a.createElement(b,null),r.a.createElement(b,null),r.a.createElement(b,null),r.a.createElement(b,null)))},_n=new s.QueryClient;var Pn=function(){var e=Object(Oe.a)($t.breakpoints.down("md")),t=Object(u.f)({mode:"onChange"}),n=(t.register,t.control,t.handleSubmit,r.a.useState(r.a.createElement(Ln,{key:1}))),l=Object(i.a)(n,2),o=l[0],m=(l[1],r.a.useState({})),d=Object(i.a)(m,2),f=d[0],p=d[1];return Object(a.useEffect)(function(){if(JSON.parse(localStorage.getItem("user"))){var e=JSON.parse(localStorage.getItem("user"));p(e)}},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(dt.a,{theme:$t},r.a.createElement(J.Provider,{value:{user:f,setUser:p}},f?e?"":o:"",r.a.createElement(s.QueryClientProvider,{client:_n},r.a.createElement(c.ReactQueryDevtools,{initialIsOpen:!1}),r.a.createElement(pe.a,null,r.a.createElement(Ee.e,null,r.a.createElement(Ee.c,{path:"/",element:r.a.createElement(mt,null)}),r.a.createElement(Ee.c,{path:"/vid",element:r.a.createElement(gn,null)}),r.a.createElement(Ee.c,{path:"SearchResults",element:r.a.createElement(In,null)}),r.a.createElement(Ee.c,{path:"Profile/:profileId",element:r.a.createElement(Nt,null)}),r.a.createElement(Ee.c,{element:r.a.createElement(en,null)},r.a.createElement(Ee.c,{path:"/EditProfile",element:r.a.createElement(Ht,null)})),r.a.createElement(Ee.c,{path:"*",element:r.a.createElement(mt,null)})))))))};o.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Pn,null)))}},[[292,2,1]]]);
//# sourceMappingURL=main.c0460e89.chunk.js.map